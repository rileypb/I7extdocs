<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Extension</title>
    <style type="text/css">
        <!--
        :root {
            color-scheme: light dark;
            --element-banner-background-colour: #eeeeee;
            --heading-panel-background-colour: #eeeeee;
            --heading-panel-text-colour: #222222;
            --heading-panel-succeeded-background-colour: #E6FFE6;
            --heading-panel-failed-background-colour: #f69Ca6;

            --heading-row-background-colour: #e0e0e0;
            --stripe-one-background-colour: #ffffff;
            --stripe-two-background-colour: #f3f6fa;

            --index-dull-red-colour: #800000;
            --periodic-table-sidebar-colour: #888;
            --periodic-table-sidebar-hover-colour: #222;
            --leaders-background-colour: white;
            --library-card-title-colour: #803030;
            --library-card-other-colour: #303030;
            --index-more-box-background-colour: #e0e0e0;
            --index-activity-contents-background-colour: #e8e0c0;
            --registry-contents-link-colour: #202020;

        }

        @media (prefers-color-scheme: dark) {
          :root {
            --element-banner-background-colour: #444444;
            --heading-panel-background-colour: #444444;
            --heading-panel-text-colour: #ffffff;
            --heading-panel-succeeded-background-colour: #738073;
            --heading-panel-failed-background-colour: #7b4e53;

            --heading-row-background-colour: #707070;
            --stripe-one-background-colour: #7f7f7f;
            --stripe-two-background-colour: #797b7d;

            --index-dull-red-colour: #c00000;
            --periodic-table-sidebar-colour: #555;
            --periodic-table-sidebar-hover-colour: #222;
            --leaders-background-colour: black;
            --library-card-title-colour: #a05050;
            --library-card-other-colour: #505050;
            --index-more-box-background-colour: #444444;
            --index-activity-contents-background-colour: #727060;
            --registry-contents-link-colour: #ffffff;
            }
        }

        /* The default font (family) and size */

        body, p, td {
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 12px;
        }

        /* For fixed-point material within text, such as the typing on the Library Card index page */

        span.typewritten {
            font-family: 'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;
            font-size: 13px;
        }

        /* For less important material: the small print */

        span.smaller {
            font-size: 80%;
        }

        /* The "heading panel" is the coloured box, high up on the page. The colours
        vary depending on the page: for example, the style on a report of a translation
        with no problems is "headingpanelsucceeded", usually green, but if there were
        problems then "headingpanelfailed" is used, which is usually red. "headingpanel"
        itself is a more neutral grey by default. "headingpanelDark" is an alternative
        look to make the extensions index pages have some visual contrast with the others;
        by default they are a darker grey. */

        .headingpanel {
            background: var(--heading-panel-background-colour);
        }
        .headingpanelsucceeded {
            background: var(--heading-panel-succeeded-background-colour);
        }
        .headingpanelfailed {
            background: var(--heading-panel-failed-background-colour);
        }
        .headingpanelalt {
            background: #808080;
        }

        /* Heading panels have two lines of text: an upper one in a larger size, and a
        lower one in a smaller. Again, the alt versions are meant to contrast.

            Report on Translation: Succeeded                <-- headingpaneltext
            Produced by Inform 10.1.0 (build 6U97)          <-- headingpanelrubric

            Installed Extensions                            <-- headingpaneltextalt
            Bundles of extra rules or phrases to...         <-- headingpanelrubricalt

        */

        span.headingpaneltext {
            color: var(--heading-panel-text-colour);
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 20px;
            font-weight: bold;
        }
        span.headingpaneltextalt {
            color: #ffffff;
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 20px;
            font-weight: bold;
        }

        span.headingpanelrubric {
            color: var(--heading-panel-text-colour);
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 11px;
            font-weight: bold;
        }
        span.headingpanelrubricalt {
            color: #ffffff;
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 11px;
            font-weight: bold;
        }

        /* Horizontal rule styling */

        div.hr {
            border: 0;
            width: 100%;
            color: #707070;
            background-color: #707070;
            height: 5px;
        }

        /* This styles the (usually white) text of the example numbers written inside
        oval blobs in the extension documentation, which mimic the look of the in-app
        documentation. */

        .oval, .oval td {
            background-image:url('../../../doc_images/ovoid.png');
            color:white;
        }

        /* Styling used in the extension documentation indexes: */

        /* Used for extension names in the extensions pane of the app */

        span.extensioncensusentry {
            color: #ffffff;
        }

        span.extensionindexentry {
            color: #404040;
        }

        span.extensionindexerror {
            color: #ff8080;
        }

        /* This is used in extension documentation, where an example is presented
        in a slightly tinted box: */

        table.extensionexample {
        	background-color: #f0f0f0;
        }

        span.extensionexampleletter {
        	color: #202020;
        	font-size: 14px;
        	font-weight: bold;
        }

        /* Seen in problem messages: */

        span.problemred {
            color: #800000;
        }

        span.problemgreen {
            color: #008000;
        }

        span.phraseword {
            color: #808080;
        }

        span.phrasetokentext {
            color: #e00060;
        }

        span.phrasetokendesctext {
            color: #4040ff;
        }

        span.phrasetokenvaluetext {
            color: #ff4040;
        }

        /* Now we move on to styling used in the Index pages only: */

        /* The periodic table display has "sidebars", usually grey and taller than they
        are wide; they contain no text. */

        div.periodictablesidebarcolour {
            background: var(--periodic-table-sidebar-colour);
        }
        div.periodictablesidebar:hover {
            background: var(--periodic-table-sidebar-hover-colour);
        }

        /* The text of the element-abbreviation, such as "Lx" or "Ph", uses: */

        span.elementtext {
            color: #ffffff;
            font-size: 20px;
            font-weight: bold;
        }

        /* Similarly for the "atomic number" - a single digit - in the top left corner
        of these boxes: */

        span.elementnumbertext {
            color: #ffffff;
            font-size: 7pt;
        }

        /* For the text of the element title, to the right of the element box: */

        span.elementtitletext {
            color: #ffffff;
            font-size: 9px;
            font-weight: bold;
        }

        /* The banner at the top of each element: */

        table.elementbanner {
            background: var(--element-banner-background-colour);
        }

        /* For the typewriting on the Library Card: */

        span.librarycardtitle {
            color: var(--library-card-title-colour);
        }

        span.librarycardother {
            color: var(--library-card-other-colour);
        }

        /* Generically used for "more details" boxes in the index: */

        table.indexmorebox {
        	background-color: var(--index-more-box-background-colour);
            border-radius: 8px;
        }

        /* But not for activity contents: */

        table.indexactivitycontents {
        	background-color: var(--index-activity-contents-background-colour);
            border-radius: 8px;
        }

        /* For responses in index entries about rules: */

        span.indexresponseletter {
            color: #ffffff;
            font-family: 'Courier New', Courier, monospace;
            background-color: #8080ff;
        }

        span.indexresponsetext {
            color: #000066;
        }

        /* Used ubiquitously throughout the index for unemphasised text: */

        span.indexblack {
        	color: #000000;
        }

        span.indexgrey {
        	color: #808080;
        }

        span.indexdarkgrey {
            color: #505050;
        }

        span.indexdullred {
            color: var(--index-dull-red-colour);
        }

        span.indexdullgreen {
            color: #008000;
        }

        span.indexdullblue {
            color: #000080;
        }

        /* Used in the numbering of levels of the World map in the Index */

        span.indexmaplevelnumbers {
        	color: #c0c0c0;
        }

        /* Used for the room squares in the World map in the Index (which is currently
        a table with one row of one column) */

        table.indexmaproom {
        	border-color: #000000;
        }

        /* Used in the numbering of levels of the World map in the Index */

        span.indexmaplevelnumbers {
        	color: #c0c0c0;
        }

        /* Used e.g. for title rows in the Chart of basic kinds in the Index */

        tr.headingrow {
        	background-color: var(--heading-row-background-colour);
        }

        /* Standard rows have black text on striped background colours, these being
        the usual ones seen in Mac OS X applications such as iTunes. */

        tr.stripeone {
        	background-color: var(--stripe-one-background-colour);
        }

        tr.stripetwo {
        	background-color: var(--stripe-two-background-colour);
        }

        tr.tintedrow {
        	background-color: #808080;
        }

        /* In the Figures index, this is the background colour used behind images
        (though in fact it will only be visible if the image fails to load, or uses
        transparency): */

        div.figureindexbox {
        	background-color: #6495ed;
        }

        /* To get the book-contents-page style leaders on the Contents element of
           the index to work, these must use the background colour of the body of
           the page, whatever that is: */

        ul.leaders li.leaded span:first-child {
            background: var(--leaders-background-colour);
        }
        ul.leaders li.leaded span + span {
            background: var(--leaders-background-colour);
        }

        /* On Registry index pages (such as the Public Library), these are used for
        download buttons and the like: */

        span.registrybuttontext {
        	font-size: 11px;
        	border-color: #000000;
        }

        span.registryminibuttontext {
        	font-size: 10px;
        	border-color: #000000;
        }

        span.registrybuttonuninstalled {
        	color: #000000;
        	background: #ffffdd;
        }

        span.registrybuttoninstalled {
        	color: #000000;
        	background: #ffffff;
        	pointer-events: none;
        }

        span.registrybuttonbuiltin {
        	color: #888888;
        	background: #ffffff;
        	pointer-events: none;
        }

        span.registrybuttonupdate {
        	color: #000000;
        	background: #aaddff;
        }

        span.registrybuttonrevert {
        	color: #000000;
        	background: #ddaaff;
        }

        span.registrybuttonrevealer {
        	color: #ffffff;
        	background: #444444;
        }

        /* Registry index section headings: */

        span.registrysectionname {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 16px;
        	line-height: 18px;
        }
        span.registrysubsectionname {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 14px;
        	line-height: 16px;
        }

        /* These are for the "mark" for a section, usually a section-symbol and number */

        span.registrysectionmark {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 16px;
        	line-height: 18px;
        	color: #666;
        }
        span.registrysubsectionmark {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 14px;
        	line-height: 16px;
        	color: #666;
        }

        /* Text of an item listed in a registry: */

        span.registryitemtext {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 12px;
        	line-height: 16px;
        }

        /* And how the links in a registry index page behave: */

        a.registrysilentlink {
        	text-decoration: none;
        	color: #000;
        }
        a.registrybuttonlink {
        	text-decoration: none;
        }
        a.registrycontentslink:link {
        	text-decoration: none;
        	color: var(--registry-contents-link-colour);
        }
        a.registrycontentslink:visited {
        	text-decoration: none;
        	color: var(--registry-contents-link-colour);
        }
        a.registrycontentslink:hover {
        	text-decoration: none;
        	color: #D00000;
        }
        a.registrycontentslink:active {
        	text-decoration: none;
        	color: #D00000;
        }

        -->
    </style>
    <style type="text/css">
        <!--
        /* (1) General layout material */

        *, *:before, *:after {
        	-moz-box-sizing: border-box;
        	-webkit-box-sizing: border-box;
        	box-sizing: border-box;
        }
        .headingpanellayout {
        	position: relative;
        	height: 56px;
        	padding: 0px;
        	white-space:nowrap;
        }
        .headingpanellayoutdeeper {
        	position: relative;
        	height: 117px;
        	padding: 0px;
        	white-space:nowrap;
        }
        .headingtext {
        	position: absolute;
        	top: -4px;
        	left: -1px;
        	width: 100%;
        	padding: 14px 10px 0px 10px;
        }
        .headingrubric {
        	position: absolute;
        	top: 36px;
        	width: 100%;
        	padding: 0px 10px 0px 10px;
        }
        h3.tighter {
        	margin-top: 0px;
        }
        p.hang {
        	padding-left: 25px;
        	text-indent: -25px;
        	margin-top: 0px;
        	margin-bottom: 0px;
        }
        p.in1 {
        	padding-left: 0px;
        }
        p.tightin1 {
        	padding-left: 0px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin1 {
        	padding-left: 0px;
        	margin-bottom: 2px;
        }
        p.hangingin1 {
        	padding-left: 50px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in2 {
        	padding-left: 25px;
        }
        p.tightin2 {
        	padding-left: 25px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin2 {
        	padding-left: 25px;
        	margin-bottom: 2px;
        }
        p.hangingin2 {
        	padding-left: 75px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in3 {
        	padding-left: 50px;
        }
        p.tightin3 {
        	padding-left: 50px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin3 {
        	padding-left: 50px;
        	margin-bottom: 2px;
        }
        p.hangingin3 {
        	padding-left: 100px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in4 {
        	padding-left: 75px;
        }
        p.tightin4 {
        	padding-left: 75px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin4 {
        	padding-left: 75px;
        	margin-bottom: 2px;
        }
        p.hangingin4 {
        	padding-left: 125px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in5 {
        	padding-left: 100px;
        }
        p.tightin5 {
        	padding-left: 100px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin5 {
        	padding-left: 100px;
        	margin-bottom: 2px;
        }
        p.hangingin5 {
        	padding-left: 150px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in6 {
        	padding-left: 125px;
        }
        p.tightin6 {
        	padding-left: 125px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin6 {
        	padding-left: 125px;
        	margin-bottom: 2px;
        }
        p.hangingin6 {
        	padding-left: 175px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in7 {
        	padding-left: 150px;
        }
        p.tightin7 {
        	padding-left: 150px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin7 {
        	padding-left: 150px;
        	margin-bottom: 2px;
        }
        p.hangingin7 {
        	padding-left: 200px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in8 {
        	padding-left: 175px;
        }
        p.tightin8 {
        	padding-left: 175px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin8 {
        	padding-left: 175px;
        	margin-bottom: 2px;
        }
        p.hangingin8 {
        	padding-left: 225px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in9 {
        	padding-left: 200px;
        }
        p.tightin9 {
        	padding-left: 200px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin9 {
        	padding-left: 200px;
        	margin-bottom: 2px;
        }
        p.hangingin9 {
        	padding-left: 250px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }

        /* (2) Index page layout material */

        /* The periodic table display has "sidebars", usually grey and taller than they
        are wide; they contain no text. */

        div.periodictablesidebar {
        	height: 56px;
        	width: 16px;
        }
        .periodictablesidebar a:link { text-decoration: none; }
        .periodictablesidebar a:visited { text-decoration: none; }
        .periodictablesidebar a:active { text-decoration: none; }

        /* The "element boxes" are the cells appearing in the periodic-table display
        on the welcome page of the index: */

        .elementbox {
        	position: relative;
        	height: 56px;
        	width: 56px;
        	padding: 0px;
        }

        .elementbox a:link { text-decoration: none; }
        .elementbox a:visited { text-decoration: none; }
        .elementbox a:active { text-decoration: none; }
        .elementbox a:hover { text-decoration: none; }
        .elementbox:hover {
        	opacity: 0.6;
        }

        /* The "small element boxes" look like those, but are smaller, and used on
        the headings of the content which those original boxes link to: */

        .smallelementbox {
        	position: relative;
        	height: 40px;
        	width: 40px;
        	padding: 0px;
        }

        .smallelementbox a:link { text-decoration: none; }
        .smallelementbox a:visited { text-decoration: none; }
        .smallelementbox a:active { text-decoration: none; }
        .smallelementbox a:hover { text-decoration: none; }
        .smallelementbox:hover {
        	opacity: 0.6;
        }

        /* This is a class for the links formed by the element boxes: */

        a.elementlink {
        	position: absolute;
        	top: -4px;
        	left: -1px;
        	width: 100%;
        	padding: 14px 0px 14px 1px;
        	text-align: center;
        }

        /* Similarly for the "atomic number" - a single digit - in the top left corner
        of these boxes: */

        div.elementnumber {
        	position: absolute;
        	top: 1px;
        	left: 3px;
        	text-align: left;
        }

        /* For the text of the element title, to the right of the element box: */

        div.elementtitle {
        	position: absolute;
        	top: 35px;
        	width: 100%;
        	text-align: center;
        }

        /* Used for the book-contents-page style leaders on the Contents element of
           the index: */

        ul.leaders {
        	padding: 0;
        	margin-top: 1px;
        	margin-bottom: 0;
        	overflow-x: hidden;
        	list-style: none}
        ul.leaders li.leaded:before {
        	float: left;
        	width: 0;
        	white-space: nowrap;
        	content:
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "}
        ul.leaders li.leaded span:first-child {
        	padding-right: 0.33em;
        }
        ul.leaders li.leaded span + span {
        	float: right;
        	padding-left: 0.33em;
        }
        li.indent1 span:first-child {
        	padding-left: 25px;
        }
        li.indent2 span:first-child {
        	padding-left: 50px;
        }
        li.indent3 span:first-child {
        	padding-left: 75px;
        }
        li.indent4 span:first-child {
        	padding-left: 100px;
        }
        li.indent5 span:first-child {
        	padding-left: 125px;
        }
        li.indent6 span:first-child {
        	padding-left: 150px;
        }
        li.indent7 span:first-child {
        	padding-left: 175px;
        }
        li.indent8 span:first-child {
        	padding-left: 200px;
        }
        li.indent9 span:first-child {
        	padding-left: 225px;
        }

        li.unleaded:before {
        	content: "";
        }

        /* On Registry index pages (such as the Public Library), these are used for
        download buttons and the like: */

        span.registrybuttons {
        	height: 20px;
        	padding: 2px 8px 2px 8px;
        	margin: 2px;
        	border:1px solid;
        	border-radius: 5px;
        }

        span.registryminibuttons {
        	height: 14px;
        	padding: 2px 5px 2px 5px;
        	margin: 2px;
        	border:1px solid;
        	border-radius: 4px;
        }

        /* Used to hide or display sections in the Registry pages: */

        div.registrysectionitemsopen {
        	display: block;
        }

        div.registrysectionitemsclosed {
        	display: none;
        }

        /* Hanging indentation for Registry item paragraphs: */

        p.registryitem {
        	padding-left: 80px;
        	text-indent: -40px;
        }

        p.registryaddition {
        	padding-left: 40px;
        	text-indent: -40px;
        }

        -->
    </style>
    <script type="text/javascript">
        function project() {
            return window.Project;
        }
        function showExtra(id, imid) {
        	if (document.getElementById(id).style.display == 'block') {
        		document.getElementById(id).style.display = 'none';
        		document.getElementById(imid).src = 'inform:/extra.png';
        	} else {
        		document.getElementById(id).style.display = 'block';
        		document.getElementById(imid).src = 'inform:/extraclose.png';
        	}
        }
        function openExtra(id, imid) {
        	document.getElementById(id).style.display = 'block';
        	document.getElementById(imid).src = 'inform:/extraclose.png';
        }
        function closeExtra(id, imid) {
        	document.getElementById(id).style.display = 'none';
        	document.getElementById(imid).src = 'inform:/extra.png';
        }
        function pasteCode(code) {
            var myProject = project();

            myProject.selectView('source');
            myProject.pasteCode(code);
        }

    </script>
</head>
<body>
    <!--CONTENT BEGINS-->
    <table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><img border=0 src="../../../doc_images/Hookindex.png" border=0></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"><img border=0 src="../../../doc_images/Hookup.png" border=0></td></tr></table>

    <p><img border=0 src=../../../doc_images/paste.png>&nbsp;<b>Implicit Actions<span class="extensionindexentry"> by </span>Eric Eve</b></p>
    <p><span class="smaller">Version 13.1</span></p>
    <p>Provides implicit taking, opening, closing, locking and unlocking actions for a variety of cases where this makes for smoother game play. The extension also defines phrases which make it easy to define additional implicit actions if desired. Version 11 can be used with Locksmith by Emily Short (although Implicit Actions covers most of what Locksmith does, and in most cases it will be better to use Implicit Actions without Locksmith). Requires  Version 8.1 (or above) of Text Capture by Eric Eve.</p>
    <p></p>
    <hr>
    <p><span class="indexblack"><b><a style="text-decoration: none" href=#docsec1>Chapter 1: </b></span>The Basics - A Set of Implicit Actions<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec2>Section 1.1: </span>Introduction - Using Impicit Actions<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec3>Section 1.2: </span>What's New in Version 10<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec4>Section 1.3: </span>What's New in Version 11<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec5>Section 1.4: </span>What's New in Version 12<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec6>Section 1.5: </span>Common Cases of Implicit Action<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec7>Section 1.6: </span>Chains of Actions<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec8>Section 1.7: </span>Success and Failure<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec9>Section 1.8: </span>Changing the Implicit Action Reporting Style.<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec10>Section 1.9: </span>Overriding or Preventing Implicit Actions<br>
    <br>
    <span class="indexblack"><b><a style="text-decoration: none" href=#docsec11>Chapter 2: </b></span>Locks, Keys and Doors<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec12>Section 2.1: </span>Using Implicit Actions Can with Locksmith<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec13>Section 2.2: </span>Remembering Keys<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec14>Section 2.3: </span>Locking and Unlocking Without Keys<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec15>Section 2.4: </span>Keys and Passkeys<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec16>Section 2.5: </span>Keyrings<br>
    <br>
    <span class="indexblack"><b><a style="text-decoration: none" href=#docsec17>Chapter 3: </b></span>Defining New Implicit Actions<br>
    <br>
    <span class="indexblack"><b><a style="text-decoration: none" href=#docsec18>Chapter 4: </b></span>Limitations and Cautions<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec19>Section 4.1: </span>Player Actions Only<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec20>Section 4.2: </span>Overflowing the Text Buffer<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec21>Section 4.3: </span>Debugging Commands (Such as RULES)<br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href=#docsec22>Section 4.4: </span>Redirecting Actions - Instead vs Before<br>
    <br>
    <b>Examples</b><br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href="Implicit Actions-eg1.html#eg1">A &mdash; A Study in Two Keys</span><br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href="Implicit Actions-eg2.html#eg2">B &mdash; Football Practice</span><br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href="Implicit Actions-eg3.html#eg3">C &mdash; Poison Trap</span><br>
    </p>
    <hr>
    <p></p>
    </p>

    <p><p><span class="indexdullred"><b><span id=docsec1>Chapter 1: The Basics - A Set of Implicit Actions</span></b></span></p>
    </p>

    <p><p><span class="indexblack"><b><span id=docsec2>Section 1.1: Introduction - Using Impicit Actions</span></b></span></p>
    </p>

    <p> The documentation of this extension may look quite long, but that's because it has quite a few features to explain, not because it's hard to use if we just want to use its functionality &quot;out of the box&quot;. To do that, we just need the line:</p>

    <p><blockquote><span class="indexdullblue"><img border=0 src=../../../doc_images/paste.png> Include Implicit Actions by Eric Eve</span></blockquote>

    <p> At the start of our code, and we'll get all (or most) of the benefits of this extension without further ado. The rest of this documentation explains what those benefits are how we can extend them.</p>

    <p><p><span class="indexblack"><b><span id=docsec3>Section 1.2: What's New in Version 10</span></b></span></p>
    </p>

    <p> Previously Implicit Actions used the before rules to trigger implicit actions. Version 10 implements a new rulebook, the precondition rules, for this purpose. The precondition rules run between the Before rules and the Instead rules, in fact just before the basic accessibility rule. This is both because they are the same kind of thing as other rules inserted at this point (for example the carrying requirements rule which the Standard Rules uses to perform some implicit takes is located around this stage), and also, more pragmatically, because it should make it easier to write Before rules that are certain to pre-empt implicit actions, which may sometimes be necessary.</p>

    <p><p><span class="indexblack"><b><span id=docsec4>Section 1.3: What's New in Version 11</span></b></span></p>
    </p>

    <p> Previous versions of Implicit Actions could not be used with Locksmith by Emily Short. Version 11 can be used with Locksmith, in which case it leaves Locksmith to do all the handling of locks and doors. On the other hand if Implicit Actions is used there should be no need for Locksmith, since if Locksmith is not present Implicit Actions will provide similar functionality in a manner more consistent with the rest of Implicit Actions.</p>

    <p><p><span class="indexblack"><b><span id=docsec5>Section 1.4: What's New in Version 12</span></b></span></p>
    </p>

    <p> Version 12 makes no change to the functionality of Implicit Actions, but makes several changes both to the extension code and to the examples to avoid using Inform features that became deprecated in release 6E59. This should help to ensure that Implicit Actions continues to be usable with whatever future release of Inform withdraws the deprecated features.</p>

    <p> Release 6E59 of Inform introduced its own implicit action handling for inserting objects into containers, putting objects on supporters, and going through closed doors. The Implicit Actions extension replaces the Standard Library rules that carry out these implicit actions with its own versions to avoid clashes and duplications.</p>

    <p><p><span class="indexblack"><b><span id=docsec6>Section 1.5: Common Cases of Implicit Action</span></b></span></p>
    </p>

    <p> There are many common situations in Interactive Fiction where an action is annoyingly prevented because some other completely obvious action has not been carried out. We want to put the diamond in the jewel case, but we're told we have to be holding it first (even though it's right there in front of us). We want to leave to the north, but we're told we can't because the front door is in the way, even though the door isn't locked and it should be obvious that we want to open it in order to go through it. Interactive Fiction is a much smoother and less frustrating experience if these kinds of obvious action are carried out for us. Actions that are carried out in order to allow other actions to go ahead are called &quot;implicit actions&quot;. The Implicit Actions extension defines a number of these, and all we have to do is to include the extension in our game to enjoy the benefit of them.</p>

    <p> In particular, the extension provides implicit actions for the following cases:</p>

    <p> 1. If we want to search a container that's closed, the game will first try to open it for us.</p>

    <p> 2. If we want to put something in a container that's closed, the game will first try to open it for us.</p>

    <p> 3. If we want to go through a door that's closed, the game will first try to open it for us.</p>

    <p> 4. If we want to open a door or a container that's locked, the game will first try to unlock it for us.</p>

    <p> 5. If we want to put something we're not holding into or onto something, the game will first try to take it for us.</p>

    <p> 6. If we want to leave the room while we're in an enterable container or on an enterable supporter, the game will first try to take us out of it.</p>

    <p> 7. If we want to take something that's inside a closed transparent container, the game will first try to open the container for us.</p>

    <p> 8. If we want to use a key to lock or unlock something but we're not carrying the key (although it's within reach), the game will first try to take it for us.</p>

    <p> Note that Inform release 6E59 increases the range of implicit actions carried out by the Standard Rules, which may reduce the need for the Implicit Actions extension in some cases. Implicit Actions nevertheless extends the range of implicit actions further than does the Standard Rules and provides for better reporting of implicit actions. It also provides a franework for creating further implicit actions.</p>

    <p><p><span class="indexblack"><b><span id=docsec7>Section 1.6: Chains of Actions</span></b></span></p>
    </p>

    <p> Sometimes more than one implicit action may need to be carried out before we can go ahead with the command the player actually ordered. For example, suppose we want to go north through a locked door, the key to which is lying in plain sight on the table. To go through the door we first need to open it, to open it we first need to unlock it, and to unlock it we first need to take the key. The design of this extension allows each implicit action to trigger a further implicit action in turn. When there's a chain of actions like this, where each is needed to allow the next to be performed, the extension also combines all the implicit action into a single report, so that what we'd see is something like:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first taking the key, then unlocking the door with the key, then opening the door)</span></blockquote>

    <p><blockquote><span class="indexdullblue"> Front Garden<br>
     The house lies to the south...</span></blockquote>

    <p> Note that although the extension can combine a chain of implicit actions (up to any practicable) length into a single report like this, it cannot do the same with a sequence of implicit actions that are mutually independent. For example, if the player character is in a chair and needs to go through a closed door in order to leave the room, both leaving the chair and opening the door are implicit actions that need to be carried out to let us leave the room, but neither depends on the other. So what we get in this case is:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first leaving the chair)<br>
     (first opening the door)</span></blockquote>

    <p> Rather than the neater:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first leaving the chair, then opening the door)</span></blockquote>

    <p> Although it may have been possible to have made the extension do the latter, the gain in neatness would probably not justify the increase in complexity (for the user as much as the author!). Moreover, the present system does have the slight advantage of making it clear which implicit actions are chained (each dependent on the one before) as opposed to simply carried out in sequence (with no dependence between them).</p>

    <p><p><span class="indexblack"><b><span id=docsec8>Section 1.7: Success and Failure</span></b></span></p>
    </p>

    <p> We have so far assumed that all implicit actions succeed, but that's not necessarily the case. Suppose we try to go north through a closed door which is also locked, and the key needed to unlock it is nowhere in sight. With this extension we'd then get:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first trying to open the door)<br>
     The door seems to be locked.</span></blockquote>

    <p> Notice the different wording of the implicit action report here. With this extension &quot;(first trying to do something)&quot; means that we need to do something to carry out the command we actually issued, so we tried to do it, but we didn't succeed. This is less misleading (and less jarring) than:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first opening the door)<br>
     The door seems to be locked.</span></blockquote>

    <p> The most natural meaning of which is that we did actually manage to open the door (even though in fact we couldn't, because it was locked).</p>

    <p> When a chain of implicit commands is being carried out, it is stopped as soon as one of them fails, with a message explaining why it failed at that point. So, going back to the earlier example where the key was available, we could (in principle) get either:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first trying to take the key)<br>
     One look at the scorpion sitting on the key quickly changes your mind about trying to take it.</span></blockquote>

    <p> Or</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first taking the key, then trying to unlock the door with the key)<br>
     The lock proves too stiff; perhaps it needs oiling.</span></blockquote>

    <p> Or</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first taking the key, then unlocking the door with the key, then trying to open the door)<br>
     Something seems to be jamming the door, even though it's not locked.</span></blockquote>

    <p><p><span class="indexblack"><b><span id=docsec9>Section 1.8: Changing the Implicit Action Reporting Style.</span></b></span></p>
    </p>

    <p> All the example we have seen so far have reported implicit actions in parentheses (the normal style). To see them reported more like normal actions, we can just chnage the global variable parenthesize implicit actions to false, then we'd see (for example):</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     You take the key, then unlock the door with the key, then try to open the door.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> Something seems to be jamming the door, even though it's not locked.</span></blockquote>

    <p> This is done via a global variable rather than a use option, so that we can (should we wish) change the style during the course of the game. To switch off the parenthesized style of implicit action right from the start, include the following:</p>

    <p><blockquote><span class="indexdullblue"><img border=0 src=../../../doc_images/paste.png> when play begins:<br>
     now parenthesize implicit actions is false.</span></blockquote>

    <p><p><span class="indexblack"><b><span id=docsec10>Section 1.9: Overriding or Preventing Implicit Actions</span></b></span></p>
    </p>

    <p> Once in a while an implicit action may not do what we want. For example, if the player encounters a red door marked DANGER it might be a bad idea to open it via an implicit action. To prevent the door being opening implicitly we need to write a special rule for implicitly opening it. This could simply take the form:</p>

    <p><blockquote><span class="indexdullblue"> rule for implicitly opening the red door:<br>
     do nothing.</span></blockquote>

    <p> But this could easily cause the action to fail with no explanation at all:</p>

    <p><blockquote><span class="indexdullblue"> &gt;north<br>
     &gt;</span></blockquote>

    <p> We could instead have our rule explicitly abort the implicit action, so that we get the standard failure report:</p>

    <p><blockquote><span class="indexdullblue"> rule for implicitly opening the red door:<br>
     abort the implicit action.</span></blockquote>

    <p> This is fine provided opening the red door will only ever be a top-level implicit action (i.e. not one triggered by another implicit action higher up in the chain). If the aborted implicit action is generated by one higher up in the chain, however, the result can be be a bit messy. Suppose we have a transparent cabinet containing a brass key that we need to unlock a door that needs to be open if the player is to go north, but for some reason we don't want the cabinet to be open via an implicit action (perhaps because it's full of poison gas and we don't want to kill the player as an unintended side-effect of some other action). Stopping the implicit action with &quot;abort the implicit action&quot; would generate the following rather messy output:</p>

    <p><blockquote><span class="indexdullblue"> &gt;n<br>
     (first trying to take the brass key)<br>
     The cabinet isn't open.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> The cabinet isn't open.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> It seems to be locked.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> You can't, since the oak door is in the way.</span></blockquote>

    <p> We can prevent this mess by having our custom rule print a failure message instead:</p>

    <p><blockquote><span class="indexdullblue"> rule for implicitly opening the cabinet:<br>
     say &quot;It may be dangerous to open the cabinet.&quot;</span></blockquote>

    <p> Or we can get the best of both worlds with:</p>

    <p><blockquote><span class="indexdullblue"> Rule for implicitly opening the cabinet:<br>
     abort the implicit action with message &quot;It may be dangerous to open the cabinet.&quot;</span></blockquote>

    <p> This will then use a standard failure message in the implicit opening is generated by a top-level action (an explicit TAKE THE BRASS KEY), say, but will show our custom message if the implicit opening is triggered by another implicit action (such as implicitly taking the key to unlock the door).</p>

    <p> A final technique is to tailor the failure message to the context by writing a rule that is specific to one implicit action taking place in the context of another:</p>

    <p><blockquote><span class="indexdullblue"> Rule for implicitly opening the cabinet while implicitly unlocking the oak door:<br>
     say &quot;You need the brass key to unlock the door, but the cabinet is closed.&quot;</span></blockquote>

    <p><hr>
    <p><span class="indexdullred"><b><span id=docsec11>Chapter 2: Locks, Keys and Doors</span></b></span></p>
    </p>

    <p><p><span class="indexblack"><b><span id=docsec12>Section 2.1: Using Implicit Actions Can with Locksmith</span></b></span></p>
    </p>

    <p> Because the Implicit Actions extensions provides its own way of dealing with implicit actions, there is no need to use Emily Short's Locksmith extension at the same time. Locksmith carries out implicit actions for locks and doors, which Implicit Actions also does. On the other hand, if you want to use both extensions together you now can. The code in Implcit Actions that deals with keys and doors has all been marked &quot;(for use without Locksmith by Emily Short)&quot;, so that if Locksmith and Implicit Actions are both included in the same game, the two shouldn't clash. If both extensions are included, the handling of implcit actions for Locks, Keys and Doors will thus be entirely left to Locksmith, and none of the rest of the present chapter will apply.</p>

    <p> There's no particular reason for using both Implicit Actions and Locksmith in the same game. Implicit Actions does just about everything Locksmith does, but in a slightly different way, so using the two together in the same game will give a less consistent playing experience than using Implicit Actions alone. It has been made possible to use the two together in case (a) some authors prefer the way Locksmith handles doors and keys, but want to extend the range of impllcit actions available or (b) an author starts by using Locksmith and then wants to extend the range of implicit actions used without changing code already wrirtten.</p>

    <p> The example games below can be made to work with Locksmith, with minor modifications. References to the &quot;key&quot; kind would need to be changed to &quot;passkey&quot;, and &quot;keyring&quot; likewise changed to &quot;keychain&quot;. In Example C &quot;The known-key of the oak door is the brass key.&quot; needs to be replaced with &quot;The brass key unbolts the oak door.&quot; and &quot;Rule for implicitly opening the cabinet while implicitly unlocking the oak door&quot; will need to be commented out or removed, since there's no &quot;implicitly unlocking&quot; activity when Locksmith is used. The examples can then be compiled and run, but don't work quite so smoothly.</p>

    <p> In sum: Implicit Actions can now be used with Locksmith, but in most cases it's probably better to use it without.</p>

    <p><p><span class="indexblack"><b><span id=docsec13>Section 2.2: Remembering Keys</span></b></span></p>
    </p>

    <p> Whenever a key (which can be an ordinary thing, or can be of kind key) is successfully used to lock or unlock something, it is remembered as the known-key for that item (door or container). Thereafter that key will automatically be used to unlock or lock that item (door or container) whenever possible. Every door and container has a known-key property (as well as its matching key property) for this purpose. Thus, if there are doors or containers in the game for which the player character is already meant to know the matching key at the start of the game, we can simply define the known-key property on those doors or containers accordingly. Normally, of course, the known-key property should then contain the same object as the matching key property.</p>

    <p><p><span class="indexblack"><b><span id=docsec14>Section 2.3: Locking and Unlocking Without Keys</span></b></span></p>
    </p>

    <p> A door or container can be defined as not needing a key to be locked or unlocked by giving it a matching key property of no-key. It can then be locked with LOCK DOOR or unlocked with UNLOCK BOX. This can be used to model doors and containers locked with catches, bolts, paddles and the like.</p>

    <p> The extension defines bolting and unbolting actions corresponding to the grammar LOCK WHATEVER and UNLOCK WHATEVER. If WHATEVER has a matching key of no-key then these commands simply lock and unlock the whatever object without further ado. Otherwise, if the whatever object has a known-key, and the known-key is to hand, these commands use the known-key to lock and unlock the object.</p>

    <p> If we want to define an object that locks and unlocks without a key but is controlled by some other mechanism (such as a combination lock), then we should probably not define it as lockable.</p>

    <p><p><span class="indexblack"><b><span id=docsec15>Section 2.4: Keys and Passkeys</span></b></span></p>
    </p>

    <p> Like Locksmith, this extension defines a passkey kind. There is no need to use the passkey kind to get any of the functionality described above. The only thing a passkey does that a ordinary thing doesn't is to display a list of the objects it's known to lock and unlock when it is examined or listed in inventory. We don't need to use a passkey at all if we don't want this particular feature.</p>

    <p> The extension also defines a key kind (to which passkey belongs). We don't need to use the key kind to make keys work (unless we want to put them on a keyring, see below), but defining keys to be of kind key can help the parser make a more intelligent choice of indirect object in locking and unlocking commands.</p>

    <p><p><span class="indexblack"><b><span id=docsec16>Section 2.5: Keyrings</span></b></span></p>
    </p>

    <p> Finally, the extension defines a keyring kind (equivalent to keychain in Locksmith). This may be used to carry keys around on (provided they are defined to be of kind key or passkey). Keys on a keyring can be used to lock and unlock things without being removed from the keyring.</p>

    <p><hr>
    <p><span class="indexdullred"><b><span id=docsec17>Chapter 3: Defining New Implicit Actions</span></b></span></p>
    </p>

    <p> This extension makes it relatively easy to define further explicit actions that work within the same framework (this is illustrated in Example B). The steps involved are basically:</p>

    <p> 1. Define a new activity that actually carries out the implicit action.</p>

    <p> 2. Define one or more Before rules that make use of the activity.</p>

    <p> It's not strictly necessary to use an activity at stage 1; a to phrase would do the job, for example; but using an acitivity keeps the new implicit action consistent with the implicit actions defined in this extension, and allows us to use conditions like &quot;while implicitly dropping the priceless vase&quot;. But whether we use an activity or not (and from now on we'll assume we do), our definition should follow this pattern:</p>

    <p><blockquote><span class="indexdullblue"> initialize the implicit action;<br>
     silently try opening the obstructor;<br>
     finish the implicit action with participle &quot;opening&quot; infinitive &quot;open&quot; object &quot;[the obstructor]&quot; and condition (whether or not the obstructor is open).</span></blockquote>

    <p> That is we start our definition with the phrase &quot;initialize the implicit action&quot;. We next write a phrase to silently try doing whatever the implicit action needs to attempt. We finally use the phrase &quot;finish the implicit action&quot; with a number of additional piece of information that facilitate the construction of the implicit action report:</p>

    <p> - with participle &quot;opening&quot;: this part of the phrase defines the verb form to use if the implicit action succeeds (e.g. in &quot;opening the door&quot; or &quot;taking the key&quot;). We just need the present participle here (e.g. &quot;opening&quot; or &quot;taking&quot;).</p>

    <p> - infinitive &quot;open&quot;: this part of the phrase defines the verb form to use if the implicit action fails (e.g. in &quot;trying to open the door&quot; or &quot;trying to take the key&quot;). We just need the inifinitive (minus &quot;to&quot;) here (e.g. &quot;open&quot; or &quot;take&quot;).</p>

    <p> - object: this part of the phrase is a string that will expand into the object or objects involved in the implicit action (e.g. &quot;the door&quot; or &quot;the door with the brass key&quot;). We'll probably need to use substitutions here so that this string will expand into the object or objects actually used.</p>

    <p> - and condition: this final part of the phrase needs to define a truth state expression that evaluates to true if the implicit action succeeds and false if it fails. For example, in the case of an implicit opening action, the object we were trying to open (here called &quot;the obstructor&quot;) will be open if the impicit opening succeeded, and closed if it did not, so we can use the expression (whether or not the obstructor is open) here.</p>

    <p> We'd then normally wrap all this in an activity:</p>

    <p><blockquote><span class="indexdullblue"> Implicitly opening something is an activity.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> Rule for implicitly opening something (called the obstructor) (this is the implicit opening rule):<br>
     initialize the implicit action;<br>
     silently try opening the obstructor;<br>
     finish the implicit action with participle &quot;opening&quot; infinitive &quot;open&quot; object &quot;[the obstructor]&quot; and condition (whether or not the obstructor is open).</span></blockquote>

    <p> Finally, we write a precondition rule to invoke the implicit activity when needed, e.g.:</p>

    <p><blockquote><span class="indexdullblue"> Precondition for going through a closed door (called the obstructor):<br>
     carry out the implicitly opening activitity with the obstructor;<br>
     if the obstructor is closed and implicit action attempted is true, stop the action.</span></blockquote>

    <p> We add the final test, stopping the action if the door remains closed after the implicit attempt to open it, because in that case the implicit action will already have printed its own failure message (&quot;The door seems to be locked&quot; or whatever), so we don't also want to see the failure message a later check rule would display.</p>

    <p> The clause &quot;and implicit action attempted is true&quot; is added to allow for exceptions. If there's a particular door we don't want the implicit opening activity to apply to, for example the Very Dangerous Door, then we can write a special carry out implicitly opening rule for it that sets implicit action attemped to false. In that case the action can proceed to the normal check stage to display the normal failure message.</p>

    <p> The implicitly opening action used as an example here is already defined in this extension. To see an illustration of a new implicit action that isn't, see Example B below.</p>

    <p><hr>
    <p><span class="indexdullred"><b><span id=docsec18>Chapter 4: Limitations and Cautions</span></b></span></p>
    </p>

    <p><p><span class="indexblack"><b><span id=docsec19>Section 4.1: Player Actions Only</span></b></span></p>
    </p>

    <p> Implicit Actions works only for actions carried out by the Player Character, not for Non-Player Characters. For many games, this will suffice, since the primary aim is to provide a smoother experience for players than to create more intelligent NPCs. Nevertheless, the framework provided here could be extended to work with NPCs, but the best way to do this would be to write a further extension (NPC Implicit Actions, say) that provides the relevant functionality for characters other than the player character. Such an extension would probably need to include this one, and then add a host of &quot;Before someone going through a closed door&quot; type rules.</p>

    <p> A simple (and rather basic) NPC Implicit Actions extension is available from the official Inform Extensions page.</p>

    <p><p><span class="indexblack"><b><span id=docsec20>Section 4.2: Overflowing the Text Buffer</span></b></span></p>
    </p>

    <p> Implicit Actions makes use of the Text Capture extension to store the text that might be output during an implicit action to explain why an action failed (and then display it at the end of the implicit action report). The text capture buffer can hold a maximum of 256 characters, so it should be used only for fairly short pieces of text, not huge amounts of it all at once. Overrunning the buffer will cause a run-time error in Z-Code games, and the loss of all characters beyond the 256th in Glulx games. If a larger buffer is needed, because you want to display a very long failure message in the course of an implicit action, you need to change the text buffer size to something larger. You can do this with the option &quot;Use maximum capture buffer length of at least 512&quot; (or whatever other buffer size you want).</p>

    <p><p><span class="indexblack"><b><span id=docsec21>Section 4.3: Debugging Commands (Such as RULES)</span></b></span></p>
    </p>

    <p> Implicit Actions makes use of the Text Capture extension to suppress output until it is ready to display a summary of implicit actions. This can play havoc with some of the debugging commands, particularly RULES and RULES ALL, since if they're active when an implicit action is being carried out, their output will also be captured, with the probable result that the text capture buffer will overflow, the rule tracing won't be displayed, and the game output will consist of a huge number of error messages (or the game may hang altogether). Be very careful, then, in using RULES in a game that includes Implicit Actions.</p>

    <p><p><span class="indexblack"><b><span id=docsec22>Section 4.4: Redirecting Actions - Instead vs Before</span></b></span></p>
    </p>

    <p> It's not uncommon in Inform programming to use Instead rules to redirect one action to another, e.g.:</p>

    <p><blockquote><span class="indexdullblue"> Instead of opening the sliding door, try pulling the red lever.</span></blockquote>

    <p> This could cause problems if used in conjuction with Implicit Actions, however. Implicit Actions generates implicit actions in Precondition rules, which are run before Instead rules, so our redirection could be defeated in this case:</p>

    <p><blockquote><span class="indexdullblue"> &gt;open the sliding door<br>
     (first trying to unlock the sliding door)<br>
     The sliding door seems to be locked.</span></blockquote>

    <p> The solution is to use before rather than instead to carry out the redirection:</p>

    <p><blockquote><span class="indexdullblue"> Before opening the sliding door, try pulling the red lever instead.</span></blockquote>

    <p> This also applies if we need to write code to carry out the effect of an action. For example the standard rules require an actor not to be in a container or on a supporter when travelling from a location, but if we want to prevent egress through a window unless the player character is on a ladder (for example), we need to code round that restriction. The following would work just fine:</p>

    <p><blockquote><span class="indexdullblue"> Before going through the window when the player is on a ladder:<br>
     say &quot;You clamber through the window.&quot;;<br>
     if the location is the Short Narrow Alley then move the player to the Private Office;<br>
     otherwise move the player to the Short Narrow Alley;<br>
     stop the action.</span></blockquote>

    <p> But it would not have worked if we'd put the same code in an instead rule; Implicit Actions would have carried out an implicit action to remove the player character from the ladder before the instead rule was reached, defeating the purpose of the ladder.</p>

    <p><hr>
    <table border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px>
                <span id=eg1><table border="0" cellspacing="0" cellpadding="0">
                    <tr class="oval">
                        <td width=38px height=30px align="left" valign="center">
                            <div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 0px; padding-bottom: 0pt; padding-top: 0px; text-align: center;">
                                <span class="extensionexampleletter">A</span></div>
                            
                        </td>
                    </tr>
                </table>
                </span>
            </td>
            <td cellpadding=0 cellspacing=0 halign="left" valign="top">
                <img border="0" src='../../../doc_images/asterisk.png'><b><span class="indexdarkgrey">&nbsp;Example&nbsp;</span><span class="indexblack">A Study in Two Keys</span></b><br>
                <p>A demonstration of the various kinds of implicit action defined in the Implicit Actions extension.</p>

            </td>
        </tr>
    </table>
    </p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p><hr>
    <table border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px>
                <span id=eg2><table border="0" cellspacing="0" cellpadding="0">
                    <tr class="oval">
                        <td width=38px height=30px align="left" valign="center">
                            <div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 0px; padding-bottom: 0pt; padding-top: 0px; text-align: center;">
                                <span class="extensionexampleletter">B</span></div>
                            
                        </td>
                    </tr>
                </table>
                </span>
            </td>
            <td cellpadding=0 cellspacing=0 halign="left" valign="top">
                <img border="0" src='../../../doc_images/asterisk.png'><img border="0" src='../../../doc_images/asterisk.png'><b><span class="indexdarkgrey">&nbsp;Example&nbsp;</span><span class="indexblack">Football Practice</span></b><br>
                <p>Defining a new implicit action.</p>

            </td>
        </tr>
    </table>
    </p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p></p>

    <p><hr>
    <table border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px>
                <span id=eg3><table border="0" cellspacing="0" cellpadding="0">
                    <tr class="oval">
                        <td width=38px height=30px align="left" valign="center">
                            <div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 0px; padding-bottom: 0pt; padding-top: 0px; text-align: center;">
                                <span class="extensionexampleletter">C</span></div>
                            
                        </td>
                    </tr>
                </table>
                </span>
            </td>
            <td cellpadding=0 cellspacing=0 halign="left" valign="top">
                <img border="0" src='../../../doc_images/asterisk.png'><img border="0" src='../../../doc_images/asterisk.png'><img border="0" src='../../../doc_images/asterisk.png'><b><span class="indexdarkgrey">&nbsp;Example&nbsp;</span><span class="indexblack">Poison Trap</span></b><br>
                <p>Preventing implicit actions in specific cases</p>

            </td>
        </tr>
    </table>
    <table border="0" cellspacing="0" cellpadding="0" class="extensionexample" width=100%>
        <tr>
            <td align="left" valign="top">
                <p></p>

                <p><blockquote><span class="indexdullblue"><img border=0 src=../../../doc_images/paste.png> &quot;Poison Traps&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Include Implicit Actions by Eric Eve.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Part 1 - Scenario</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Use scoring.<br>
                 The maximum score is 5.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The Study is a room.<br>
                 &quot;An oak door leads north, and there is a table here.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The cabinet is a closed openable transparent container.<br>
                 The description is &quot;The cabinet [if dangerous]seems to be full of green gas[otherwise]is glass-fronted.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The cabinet can be safe or dangerous. The cabinet is dangerous.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Understand &quot;green&quot; or &quot;gas&quot; as the cabinet when the cabinet is dangerous.<br>
                 Understand &quot;glass-fronted&quot; or &quot;glass&quot; or &quot;fronted&quot; as the cabinet.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The cabinet is on the plain wooden table.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> After opening the dangerous cabinet:<br>
                 if the gas mask is worn begin;<br>
                 say &quot;The green gas escapes into the room, but is soon extracted by the ventillator.&quot;;<br>
                 now the cabinet is safe;<br>
                 otherwise;<br>
                 say &quot;The green gas escapes into the room, killing you in seconds.&quot;;<br>
                 end the story saying &quot;You have died.&quot;;<br>
                 end if;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The brass key is a key. The brass key is in the cabinet.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> A plain wooden table is a scenery supporter in the Study.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Instead of looking under the plain wooden table when the gas mask is not handled:<br>
                 if the gas mask is off-stage begin;<br>
                 move the gas mask to the Study;<br>
                 say &quot;You find a gas mask under the table.&quot;;<br>
                 increase the score by 2;<br>
                 otherwise;<br>
                 say &quot;There's a gas mask under the table.&quot;;<br>
                 end if.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> A scorpion is in the Study. &quot;A scorpion is crawling about on the floor.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The gas mask is a wearable thing. &quot;A gas mask lies under the table.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> After taking the scorpion:<br>
                 say &quot;The scorpion gives you a nasty bite.&quot;;<br>
                 end the story saying &quot;You have died&quot;.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The oak door is a closed openable lockable locked scenery door.<br>
                 The matching key of the oak door is the brass key.<br>
                 The known-key of the oak door is the brass key.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The oak door is north of the Study and south of the Hall.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The Hall is a room. &quot;An oak door leads south.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> After going to the Hall:<br>
                 try looking;<br>
                 say &quot;You have escaped the trap!&quot;;<br>
                 increase the score by 3;<br>
                 end the story finally saying &quot;You have won&quot;.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Part 2 - Overridden Implicit Actions</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Rule for implicitly taking the scorpion:<br>
                 abort the implicit action.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Rule for implicitly opening the cabinet:<br>
                 abort the implicit action with message &quot;The cabinet should only be opened with caution.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Rule for implicitly opening the cabinet while implicitly unlocking the oak door:<br>
                 say &quot;You need the brass key to unlock the door, but the cabinet is closed.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Part 3 - Testing</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Test gas with &quot;n/take key/open cabinet&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Test scorpion with &quot;put scorpion on table/take scorpion&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Test me with &quot;n/x cabinet/take key/put key on table/put scorpion on table/look under table/wear gas mask/open cabinet/x cabinet/north&quot;</span></blockquote>

                <p></p>

            </td>
        </tr>
    </table>
    </p>

    <p>
    <!--CONTENT ENDS-->
</body>
</html>
