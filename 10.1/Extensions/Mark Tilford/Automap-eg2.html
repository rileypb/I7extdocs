<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Extension</title>
    <style type="text/css">
        <!--
        :root {
            color-scheme: light dark;
            --element-banner-background-colour: #eeeeee;
            --heading-panel-background-colour: #eeeeee;
            --heading-panel-text-colour: #222222;
            --heading-panel-succeeded-background-colour: #E6FFE6;
            --heading-panel-failed-background-colour: #f69Ca6;

            --heading-row-background-colour: #e0e0e0;
            --stripe-one-background-colour: #ffffff;
            --stripe-two-background-colour: #f3f6fa;

            --index-dull-red-colour: #800000;
            --periodic-table-sidebar-colour: #888;
            --periodic-table-sidebar-hover-colour: #222;
            --leaders-background-colour: white;
            --library-card-title-colour: #803030;
            --library-card-other-colour: #303030;
            --index-more-box-background-colour: #e0e0e0;
            --index-activity-contents-background-colour: #e8e0c0;
            --registry-contents-link-colour: #202020;

        }

        @media (prefers-color-scheme: dark) {
          :root {
            --element-banner-background-colour: #444444;
            --heading-panel-background-colour: #444444;
            --heading-panel-text-colour: #ffffff;
            --heading-panel-succeeded-background-colour: #738073;
            --heading-panel-failed-background-colour: #7b4e53;

            --heading-row-background-colour: #707070;
            --stripe-one-background-colour: #7f7f7f;
            --stripe-two-background-colour: #797b7d;

            --index-dull-red-colour: #c00000;
            --periodic-table-sidebar-colour: #555;
            --periodic-table-sidebar-hover-colour: #222;
            --leaders-background-colour: black;
            --library-card-title-colour: #a05050;
            --library-card-other-colour: #505050;
            --index-more-box-background-colour: #444444;
            --index-activity-contents-background-colour: #727060;
            --registry-contents-link-colour: #ffffff;
            }
        }

        /* The default font (family) and size */

        body, p, td {
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 12px;
        }

        /* For fixed-point material within text, such as the typing on the Library Card index page */

        span.typewritten {
            font-family: 'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;
            font-size: 13px;
        }

        /* For less important material: the small print */

        span.smaller {
            font-size: 80%;
        }

        /* The "heading panel" is the coloured box, high up on the page. The colours
        vary depending on the page: for example, the style on a report of a translation
        with no problems is "headingpanelsucceeded", usually green, but if there were
        problems then "headingpanelfailed" is used, which is usually red. "headingpanel"
        itself is a more neutral grey by default. "headingpanelDark" is an alternative
        look to make the extensions index pages have some visual contrast with the others;
        by default they are a darker grey. */

        .headingpanel {
            background: var(--heading-panel-background-colour);
        }
        .headingpanelsucceeded {
            background: var(--heading-panel-succeeded-background-colour);
        }
        .headingpanelfailed {
            background: var(--heading-panel-failed-background-colour);
        }
        .headingpanelalt {
            background: #808080;
        }

        /* Heading panels have two lines of text: an upper one in a larger size, and a
        lower one in a smaller. Again, the alt versions are meant to contrast.

            Report on Translation: Succeeded                <-- headingpaneltext
            Produced by Inform 10.1.0 (build 6U97)          <-- headingpanelrubric

            Installed Extensions                            <-- headingpaneltextalt
            Bundles of extra rules or phrases to...         <-- headingpanelrubricalt

        */

        span.headingpaneltext {
            color: var(--heading-panel-text-colour);
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 20px;
            font-weight: bold;
        }
        span.headingpaneltextalt {
            color: #ffffff;
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 20px;
            font-weight: bold;
        }

        span.headingpanelrubric {
            color: var(--heading-panel-text-colour);
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 11px;
            font-weight: bold;
        }
        span.headingpanelrubricalt {
            color: #ffffff;
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 11px;
            font-weight: bold;
        }

        /* Horizontal rule styling */

        div.hr {
            border: 0;
            width: 100%;
            color: #707070;
            background-color: #707070;
            height: 5px;
        }

        /* This styles the (usually white) text of the example numbers written inside
        oval blobs in the extension documentation, which mimic the look of the in-app
        documentation. */

        .oval, .oval td {
            background-image:url('../../../doc_images/ovoid.png');
            color:white;
        }

        /* Styling used in the extension documentation indexes: */

        /* Used for extension names in the extensions pane of the app */

        span.extensioncensusentry {
            color: #ffffff;
        }

        span.extensionindexentry {
            color: #404040;
        }

        span.extensionindexerror {
            color: #ff8080;
        }

        /* This is used in extension documentation, where an example is presented
        in a slightly tinted box: */

        table.extensionexample {
        	background-color: #f0f0f0;
        }

        span.extensionexampleletter {
        	color: #202020;
        	font-size: 14px;
        	font-weight: bold;
        }

        /* Seen in problem messages: */

        span.problemred {
            color: #800000;
        }

        span.problemgreen {
            color: #008000;
        }

        span.phraseword {
            color: #808080;
        }

        span.phrasetokentext {
            color: #e00060;
        }

        span.phrasetokendesctext {
            color: #4040ff;
        }

        span.phrasetokenvaluetext {
            color: #ff4040;
        }

        /* Now we move on to styling used in the Index pages only: */

        /* The periodic table display has "sidebars", usually grey and taller than they
        are wide; they contain no text. */

        div.periodictablesidebarcolour {
            background: var(--periodic-table-sidebar-colour);
        }
        div.periodictablesidebar:hover {
            background: var(--periodic-table-sidebar-hover-colour);
        }

        /* The text of the element-abbreviation, such as "Lx" or "Ph", uses: */

        span.elementtext {
            color: #ffffff;
            font-size: 20px;
            font-weight: bold;
        }

        /* Similarly for the "atomic number" - a single digit - in the top left corner
        of these boxes: */

        span.elementnumbertext {
            color: #ffffff;
            font-size: 7pt;
        }

        /* For the text of the element title, to the right of the element box: */

        span.elementtitletext {
            color: #ffffff;
            font-size: 9px;
            font-weight: bold;
        }

        /* The banner at the top of each element: */

        table.elementbanner {
            background: var(--element-banner-background-colour);
        }

        /* For the typewriting on the Library Card: */

        span.librarycardtitle {
            color: var(--library-card-title-colour);
        }

        span.librarycardother {
            color: var(--library-card-other-colour);
        }

        /* Generically used for "more details" boxes in the index: */

        table.indexmorebox {
        	background-color: var(--index-more-box-background-colour);
            border-radius: 8px;
        }

        /* But not for activity contents: */

        table.indexactivitycontents {
        	background-color: var(--index-activity-contents-background-colour);
            border-radius: 8px;
        }

        /* For responses in index entries about rules: */

        span.indexresponseletter {
            color: #ffffff;
            font-family: 'Courier New', Courier, monospace;
            background-color: #8080ff;
        }

        span.indexresponsetext {
            color: #000066;
        }

        /* Used ubiquitously throughout the index for unemphasised text: */

        span.indexblack {
        	color: #000000;
        }

        span.indexgrey {
        	color: #808080;
        }

        span.indexdarkgrey {
            color: #505050;
        }

        span.indexdullred {
            color: var(--index-dull-red-colour);
        }

        span.indexdullgreen {
            color: #008000;
        }

        span.indexdullblue {
            color: #000080;
        }

        /* Used in the numbering of levels of the World map in the Index */

        span.indexmaplevelnumbers {
        	color: #c0c0c0;
        }

        /* Used for the room squares in the World map in the Index (which is currently
        a table with one row of one column) */

        table.indexmaproom {
        	border-color: #000000;
        }

        /* Used in the numbering of levels of the World map in the Index */

        span.indexmaplevelnumbers {
        	color: #c0c0c0;
        }

        /* Used e.g. for title rows in the Chart of basic kinds in the Index */

        tr.headingrow {
        	background-color: var(--heading-row-background-colour);
        }

        /* Standard rows have black text on striped background colours, these being
        the usual ones seen in Mac OS X applications such as iTunes. */

        tr.stripeone {
        	background-color: var(--stripe-one-background-colour);
        }

        tr.stripetwo {
        	background-color: var(--stripe-two-background-colour);
        }

        tr.tintedrow {
        	background-color: #808080;
        }

        /* In the Figures index, this is the background colour used behind images
        (though in fact it will only be visible if the image fails to load, or uses
        transparency): */

        div.figureindexbox {
        	background-color: #6495ed;
        }

        /* To get the book-contents-page style leaders on the Contents element of
           the index to work, these must use the background colour of the body of
           the page, whatever that is: */

        ul.leaders li.leaded span:first-child {
            background: var(--leaders-background-colour);
        }
        ul.leaders li.leaded span + span {
            background: var(--leaders-background-colour);
        }

        /* On Registry index pages (such as the Public Library), these are used for
        download buttons and the like: */

        span.registrybuttontext {
        	font-size: 11px;
        	border-color: #000000;
        }

        span.registryminibuttontext {
        	font-size: 10px;
        	border-color: #000000;
        }

        span.registrybuttonuninstalled {
        	color: #000000;
        	background: #ffffdd;
        }

        span.registrybuttoninstalled {
        	color: #000000;
        	background: #ffffff;
        	pointer-events: none;
        }

        span.registrybuttonbuiltin {
        	color: #888888;
        	background: #ffffff;
        	pointer-events: none;
        }

        span.registrybuttonupdate {
        	color: #000000;
        	background: #aaddff;
        }

        span.registrybuttonrevert {
        	color: #000000;
        	background: #ddaaff;
        }

        span.registrybuttonrevealer {
        	color: #ffffff;
        	background: #444444;
        }

        /* Registry index section headings: */

        span.registrysectionname {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 16px;
        	line-height: 18px;
        }
        span.registrysubsectionname {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 14px;
        	line-height: 16px;
        }

        /* These are for the "mark" for a section, usually a section-symbol and number */

        span.registrysectionmark {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 16px;
        	line-height: 18px;
        	color: #666;
        }
        span.registrysubsectionmark {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 14px;
        	line-height: 16px;
        	color: #666;
        }

        /* Text of an item listed in a registry: */

        span.registryitemtext {
        	font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;
        	-webkit-font-smoothing: antialiased;
        	font-size: 12px;
        	line-height: 16px;
        }

        /* And how the links in a registry index page behave: */

        a.registrysilentlink {
        	text-decoration: none;
        	color: #000;
        }
        a.registrybuttonlink {
        	text-decoration: none;
        }
        a.registrycontentslink:link {
        	text-decoration: none;
        	color: var(--registry-contents-link-colour);
        }
        a.registrycontentslink:visited {
        	text-decoration: none;
        	color: var(--registry-contents-link-colour);
        }
        a.registrycontentslink:hover {
        	text-decoration: none;
        	color: #D00000;
        }
        a.registrycontentslink:active {
        	text-decoration: none;
        	color: #D00000;
        }

        -->
    </style>
    <style type="text/css">
        <!--
        /* (1) General layout material */

        *, *:before, *:after {
        	-moz-box-sizing: border-box;
        	-webkit-box-sizing: border-box;
        	box-sizing: border-box;
        }
        .headingpanellayout {
        	position: relative;
        	height: 56px;
        	padding: 0px;
        	white-space:nowrap;
        }
        .headingpanellayoutdeeper {
        	position: relative;
        	height: 117px;
        	padding: 0px;
        	white-space:nowrap;
        }
        .headingtext {
        	position: absolute;
        	top: -4px;
        	left: -1px;
        	width: 100%;
        	padding: 14px 10px 0px 10px;
        }
        .headingrubric {
        	position: absolute;
        	top: 36px;
        	width: 100%;
        	padding: 0px 10px 0px 10px;
        }
        h3.tighter {
        	margin-top: 0px;
        }
        p.hang {
        	padding-left: 25px;
        	text-indent: -25px;
        	margin-top: 0px;
        	margin-bottom: 0px;
        }
        p.in1 {
        	padding-left: 0px;
        }
        p.tightin1 {
        	padding-left: 0px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin1 {
        	padding-left: 0px;
        	margin-bottom: 2px;
        }
        p.hangingin1 {
        	padding-left: 50px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in2 {
        	padding-left: 25px;
        }
        p.tightin2 {
        	padding-left: 25px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin2 {
        	padding-left: 25px;
        	margin-bottom: 2px;
        }
        p.hangingin2 {
        	padding-left: 75px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in3 {
        	padding-left: 50px;
        }
        p.tightin3 {
        	padding-left: 50px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin3 {
        	padding-left: 50px;
        	margin-bottom: 2px;
        }
        p.hangingin3 {
        	padding-left: 100px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in4 {
        	padding-left: 75px;
        }
        p.tightin4 {
        	padding-left: 75px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin4 {
        	padding-left: 75px;
        	margin-bottom: 2px;
        }
        p.hangingin4 {
        	padding-left: 125px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in5 {
        	padding-left: 100px;
        }
        p.tightin5 {
        	padding-left: 100px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin5 {
        	padding-left: 100px;
        	margin-bottom: 2px;
        }
        p.hangingin5 {
        	padding-left: 150px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in6 {
        	padding-left: 125px;
        }
        p.tightin6 {
        	padding-left: 125px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin6 {
        	padding-left: 125px;
        	margin-bottom: 2px;
        }
        p.hangingin6 {
        	padding-left: 175px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in7 {
        	padding-left: 150px;
        }
        p.tightin7 {
        	padding-left: 150px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin7 {
        	padding-left: 150px;
        	margin-bottom: 2px;
        }
        p.hangingin7 {
        	padding-left: 200px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in8 {
        	padding-left: 175px;
        }
        p.tightin8 {
        	padding-left: 175px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin8 {
        	padding-left: 175px;
        	margin-bottom: 2px;
        }
        p.hangingin8 {
        	padding-left: 225px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }
        p.in9 {
        	padding-left: 200px;
        }
        p.tightin9 {
        	padding-left: 200px;
        	margin-top: 2px;
        	margin-bottom: 2px;
        }
        p.halftightin9 {
        	padding-left: 200px;
        	margin-bottom: 2px;
        }
        p.hangingin9 {
        	padding-left: 250px;
        	text-indent: -50px;
        	margin-top: 0px;
        	margin-bottom: 1px;
        }

        /* (2) Index page layout material */

        /* The periodic table display has "sidebars", usually grey and taller than they
        are wide; they contain no text. */

        div.periodictablesidebar {
        	height: 56px;
        	width: 16px;
        }
        .periodictablesidebar a:link { text-decoration: none; }
        .periodictablesidebar a:visited { text-decoration: none; }
        .periodictablesidebar a:active { text-decoration: none; }

        /* The "element boxes" are the cells appearing in the periodic-table display
        on the welcome page of the index: */

        .elementbox {
        	position: relative;
        	height: 56px;
        	width: 56px;
        	padding: 0px;
        }

        .elementbox a:link { text-decoration: none; }
        .elementbox a:visited { text-decoration: none; }
        .elementbox a:active { text-decoration: none; }
        .elementbox a:hover { text-decoration: none; }
        .elementbox:hover {
        	opacity: 0.6;
        }

        /* The "small element boxes" look like those, but are smaller, and used on
        the headings of the content which those original boxes link to: */

        .smallelementbox {
        	position: relative;
        	height: 40px;
        	width: 40px;
        	padding: 0px;
        }

        .smallelementbox a:link { text-decoration: none; }
        .smallelementbox a:visited { text-decoration: none; }
        .smallelementbox a:active { text-decoration: none; }
        .smallelementbox a:hover { text-decoration: none; }
        .smallelementbox:hover {
        	opacity: 0.6;
        }

        /* This is a class for the links formed by the element boxes: */

        a.elementlink {
        	position: absolute;
        	top: -4px;
        	left: -1px;
        	width: 100%;
        	padding: 14px 0px 14px 1px;
        	text-align: center;
        }

        /* Similarly for the "atomic number" - a single digit - in the top left corner
        of these boxes: */

        div.elementnumber {
        	position: absolute;
        	top: 1px;
        	left: 3px;
        	text-align: left;
        }

        /* For the text of the element title, to the right of the element box: */

        div.elementtitle {
        	position: absolute;
        	top: 35px;
        	width: 100%;
        	text-align: center;
        }

        /* Used for the book-contents-page style leaders on the Contents element of
           the index: */

        ul.leaders {
        	padding: 0;
        	margin-top: 1px;
        	margin-bottom: 0;
        	overflow-x: hidden;
        	list-style: none}
        ul.leaders li.leaded:before {
        	float: left;
        	width: 0;
        	white-space: nowrap;
        	content:
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "
        	".  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  "}
        ul.leaders li.leaded span:first-child {
        	padding-right: 0.33em;
        }
        ul.leaders li.leaded span + span {
        	float: right;
        	padding-left: 0.33em;
        }
        li.indent1 span:first-child {
        	padding-left: 25px;
        }
        li.indent2 span:first-child {
        	padding-left: 50px;
        }
        li.indent3 span:first-child {
        	padding-left: 75px;
        }
        li.indent4 span:first-child {
        	padding-left: 100px;
        }
        li.indent5 span:first-child {
        	padding-left: 125px;
        }
        li.indent6 span:first-child {
        	padding-left: 150px;
        }
        li.indent7 span:first-child {
        	padding-left: 175px;
        }
        li.indent8 span:first-child {
        	padding-left: 200px;
        }
        li.indent9 span:first-child {
        	padding-left: 225px;
        }

        li.unleaded:before {
        	content: "";
        }

        /* On Registry index pages (such as the Public Library), these are used for
        download buttons and the like: */

        span.registrybuttons {
        	height: 20px;
        	padding: 2px 8px 2px 8px;
        	margin: 2px;
        	border:1px solid;
        	border-radius: 5px;
        }

        span.registryminibuttons {
        	height: 14px;
        	padding: 2px 5px 2px 5px;
        	margin: 2px;
        	border:1px solid;
        	border-radius: 4px;
        }

        /* Used to hide or display sections in the Registry pages: */

        div.registrysectionitemsopen {
        	display: block;
        }

        div.registrysectionitemsclosed {
        	display: none;
        }

        /* Hanging indentation for Registry item paragraphs: */

        p.registryitem {
        	padding-left: 80px;
        	text-indent: -40px;
        }

        p.registryaddition {
        	padding-left: 40px;
        	text-indent: -40px;
        }

        -->
    </style>
    <script type="text/javascript">
        function project() {
            return window.Project;
        }
        function showExtra(id, imid) {
        	if (document.getElementById(id).style.display == 'block') {
        		document.getElementById(id).style.display = 'none';
        		document.getElementById(imid).src = 'inform:/extra.png';
        	} else {
        		document.getElementById(id).style.display = 'block';
        		document.getElementById(imid).src = 'inform:/extraclose.png';
        	}
        }
        function openExtra(id, imid) {
        	document.getElementById(id).style.display = 'block';
        	document.getElementById(imid).src = 'inform:/extraclose.png';
        }
        function closeExtra(id, imid) {
        	document.getElementById(id).style.display = 'none';
        	document.getElementById(imid).src = 'inform:/extra.png';
        }
        function pasteCode(code) {
            var myProject = project();

            myProject.selectView('source');
            myProject.pasteCode(code);
        }

    </script>
</head>
<body>
    <!--CONTENT BEGINS-->
    <table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><img border=0 src="../../../doc_images/Hookindex.png" border=0></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"><img border=0 src="../../../doc_images/Hookup.png" border=0></td></tr></table>

    <p><img border=0 src=../../../doc_images/paste.png>&nbsp;<b>Automap<span class="extensionindexentry"> by </span>Mark Tilford</b></p>
    <p><span class="smaller">Version 4.0.140513</span></p>
    <p>An extension to automatically draw a map.</p>
    <p></p>
    <hr>
    <p><span class="indexblack"><a style="text-decoration: none" href=#docsec1>Section 1: </span>6L02 Compatibility Update<br>
    <br>
    <b>Examples</b><br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href="Automap-eg1.html#eg1">A &mdash; &quot;The Test&quot; by Aaron Reed</span><br>
    &nbsp;&nbsp;&nbsp;<span class="indexblack"><a style="text-decoration: none" href="Automap-eg2.html#eg2">B &mdash; The Demonstration</span><br>
    </p>
    <hr>
    <p></p>
    </p>

    <p> Automap will watch what rooms the player has visited and create a Beyond Zork style automap.</p>

    <p> Kinds: Mappable Room. All rooms which are to show on the map must be of this kind.</p>

    <p> By default, rooms will be placed one unit away in the appropriate direction. If the path should be longer, you can manually set the distance.</p>

    <p> It is the responsibility of the author to make the map has a consistent geography and that no two rooms overlap.</p>

    <p> Activities:</p>

    <p> - The &quot;Automap work&quot; is activity is being handled while the program is attempting to explore a room or draw the map (that is, the times when it might perform the &quot;which room is (direction) from (room)&quot; decision). It is provided if you need to have anything work differently during such a test.</p>

    <p> Use options:</p>

    <p> - Use automap manual display: The program will not display the map to the status line on its own.</p>

    <p> - Use automap manual exploration: The program will not add rooms to the map unless you explicitly run the &quot;(room) is explored&quot; decision.</p>

    <p> - Use automap hide paths through closed doors: The program will not add paths that go through closed doors.</p>

    <p> - Use automap static allocation: Causes a glulx game to allocate memory for the automap at compile time. Reduces flexibility, but allows the game to run on more interpreters. (Automatically set when compiling to zcode.)</p>

    <p> - Use automap reserved area of at least N: Sets the amount of memory the game will use for drawing the map. Must be at least (map rows) * (map columns). This option is ignored when compiling to glulx, unless the &quot;use automap static allocation&quot; option is set.</p>

    <p> - Use automap visible background: Spaces that would ordinarily be blank will be shown as periods. Meant for experimenting with the size of the map while testing and is not meant for release.</p>

    <p> New source code syntax:</p>

    <p><blockquote><span class="indexdullblue"> decision: &quot;(mappable room) is placed (number) and (number) from (mappable room)&quot;: If the player has visited both rooms, it will attempt to arrange the map so that they will appear in the given relative positions. Returns yes unless doing so creates an inconsistency. It will not be necessary to use this decision in your own code unless you want to have rooms that would not ordinarily be on the same map region together. (For example, if a closet is connected to the main room by in / out, this would put it on the map with the rest of the rooms.)</span></blockquote>

    <p><blockquote><span class="indexdullblue"> decision: &quot;(room) is explored&quot;: Attempts to connect (room) with any adjacent rooms. It probably will not be necessary to use this unless you want to add rooms the player hasn't visited, or you are using the manual exploration option. Returns no if doing so creates any inconsistencies, and yes otherwise.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> phrase: &quot;explore (room)&quot; / &quot;remap (room)&quot;: Attempt to add the room to the automap. Prints an error if there are any problems. Again, it probably will not be necessary to use this unless you want to add rooms the player hasn't visited, or you are using the manual exploration option.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> phrase: &quot;unmap (mappable room)&quot;: Removes the room from the automap. Will be needed if you want to change its position relative to other rooms.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> phrase: &quot;fill status bar with (selected table - a table-name) and map&quot;: Will print the calculated automap. Should only be necessary if you are using the manual display option.</span></blockquote>

    <p><blockquote><span class="indexdullblue"> phrase: &quot;reserve automap memory of (number) rows by (number) cols&quot;: Sets the size of the displayed map. Must be called for any map to display. May be changed at any time. (Maps will center better if the height and width are 1 more than a multiple of 4: 1, 5, 9, 13, 17,...)</span></blockquote>

    <p><blockquote><span class="indexdullblue"> phrase: &quot;reserve automap memory of (number) rows&quot;: Sets the size of displayed map. Width is the current width of the status line. If using static allocation, and this would require more memory than is allocated, width is trimmed to what will fit. (Maps will center better if the height and width are 1 more than a multiple of 4: 1, 5, 9, 13, 17,...)</span></blockquote>

    <p> New in-game commands:</p>

    <p> - &quot;zoom in&quot;: Shows the map so that rooms have 3x3 grids.</p>

    <p> - &quot;zoom out&quot;: Shows the map so that rooms have 1x1 grids. (the default)</p>

    <p> - &quot;zoom away&quot;: Removes the map entirely.</p>

    <p> - &quot;zoom&quot;: Rotates through the various zoom modes.</p>

    <p> To set the zoom manually, change the current zoom variable to map zoomed in, map zoomed out, or map absent.</p>

    <p> - &quot;map automatic&quot;: Try to use the font 3 characters. If the interpreter does not support them, convert down to ASCII characters.</p>

    <p> - &quot;map fancy&quot;: Force using the font 3 characters, whether the interpreter supports them or not.</p>

    <p> - &quot;map plain&quot;: Convert down to ASCII characters. Don't even try to use font 3. (the default)</p>

    <p> If the game is run on a buggy interpreter, using the command &quot;gargoyle bug workaround&quot; should prevent problems.</p>

    <p> - &quot;map view&quot; (not for release): shows information</p>

    <p> Thanks to Jesse McGrew and Mike Talbert for help with overriding decisions. Thanks to Cristoph Ender and Andrew Plotkin for help with Unicode. Thanks to Andrew Plotkin and Jesse McGrew for help with joining I6 and I7. Thanks to S. John Ross for testing and feedback. Thanks to Aaron Reed for feedback and a minimal example. Lots and lots of thanks to Peter Pears for heavy testing and feedback. Erik Temple prepared version 4 for submission to the extensions library.</p>

    <p><p><span class="indexblack"><b><span id=docsec1>Section 1: 6L02 Compatibility Update</span></b></span></p>
    </p>

    <p> This extension differs from the author's original version: it has been modified for compatibility with version 6L02 of Inform. The latest version of this extension can be found at &lt;https://github.com/i7/extensions&gt;.</p>

    <p> This extension is released under the Creative Commons Attribution licence. Bug reports, feature requests or questions should be made at &lt;https://github.com/i7/extensions/issues&gt;.</p>

    <p><hr>
    <table border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px>
                <span id=eg1><table border="0" cellspacing="0" cellpadding="0">
                    <tr class="oval">
                        <td width=38px height=30px align="left" valign="center">
                            <div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 0px; padding-bottom: 0pt; padding-top: 0px; text-align: center;">
                                <span class="extensionexampleletter">A</span></div>
                            
                        </td>
                    </tr>
                </table>
                </span>
            </td>
            <td cellpadding=0 cellspacing=0 halign="left" valign="top">
                <img border="0" src='../../../doc_images/asterisk.png'><b><span class="indexdarkgrey">&nbsp;Example&nbsp;</span><span class="indexblack">&quot;The Test&quot; by Aaron Reed</span></b><br>
                <p>A minimal test. Note that, as of late October 2010, this example will crash in some interpreters (such as Zoom and the IDE interpreter on Mac OS X) under Glulx. Include the &quot;automap static allocation&quot; use option to prevent this kind of crash.</p>

            </td>
        </tr>
    </table>
    </p>

    <p></p>

    <p></p>

    <p></p>

    <p><hr>
    <table border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td halign="left" valign="top" cellpadding=0 cellspacing=0 width=38px>
                <span id=eg2><table border="0" cellspacing="0" cellpadding="0">
                    <tr class="oval">
                        <td width=38px height=30px align="left" valign="center">
                            <div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 0px; padding-bottom: 0pt; padding-top: 0px; text-align: center;">
                                <span class="extensionexampleletter">B</span></div>
                            
                        </td>
                    </tr>
                </table>
                </span>
            </td>
            <td cellpadding=0 cellspacing=0 halign="left" valign="top">
                <img border="0" src='../../../doc_images/asterisk.png'><img border="0" src='../../../doc_images/asterisk.png'><b><span class="indexdarkgrey">&nbsp;Example&nbsp;</span><span class="indexblack">The Demonstration</span></b><br>
                <p>A simple demonstration.</p>

            </td>
        </tr>
    </table>
    <table border="0" cellspacing="0" cellpadding="0" class="extensionexample" width=100%>
        <tr>
            <td align="left" valign="top">
                <p></p>

                <p><blockquote><span class="indexdullblue"><img border=0 src=../../../doc_images/paste.png> &quot;The demonstration&quot; by Mark Tilford.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Include Automap by Mark Tilford.<br>
                 Use automap hide paths through closed doors.<br>
                 Use automap reserved area of at least 400.<br>
                 Include Basic Hyperlinks by Emily Short.<br>
                 Use automap hyperlinks.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> When play begins: now current zoom is map zoomed in.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The heavy door is south of the western hall and north of the office. It is a door.<br>
                 The southern hall is southeast of western hall and southwest of eastern hall. The eastern hall is east of western hall.<br>
                 The heavy door is a door. It is south of the western hall and north of the office.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Fooing is an action applying to nothing. Understand &quot;foo&quot; as fooing.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Before fooing when the player is in eastern hall or the player is in western hall:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;To make a longer path, the distance must be declared both ways.&quot;<br>
                 To decide what number is the distance (d - east) from (r - western hall): decide on 2.<br>
                 To decide what number is the distance (d - west) from (r - eastern hall): decide on 2.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The western balcony is up from western hall and west from central balcony.<br>
                 The eastern balcony is east from central balcony and up from eastern hall.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Outside Building is a mappable room. It is west from western balcony.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Before fooing when the player is in western balcony or the player is in eastern balcony:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;By default, rooms connected with up / down / in / out are not placed on the same map.  If you want to put them on the same map, you can position them manually.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Before constructing the status line:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; unless western balcony is placed 0 and -1 from western hall, say &quot;*** Error placing west balcony ***&quot;;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; unless eastern balcony is placed 0 and -1 from eastern hall, say &quot;*** Error placing east balcony ***&quot;;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; unless upstairs closet is placed -1 and 0 from upstairs office, say &quot;*** Error placing upstairs closet ***&quot;.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Upstairs office is north of western balcony.<br>
                 Upstairs closet is inside from upstairs office.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Stupid room is a mappable room. It is east from upstairs office.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Alpha room is east of stupid room.<br>
                 Beta room is north of alpha room and northeast of stupid room.<br>
                 Gamma room is west of beta room and northwest of alpha room and north of stupid room.<br>
                 Joe's room is southeast of beta room.<br>
                 Fred's room is northeast of beta room and north of Joe's room.<br>
                 Jane's room is east of beta room and southeast of fred's room and northeast of Joe's room.<br>
                 To decide what number is the distance (d - east) from (r - beta room): decide on 2.<br>
                 To decide what number is the distance (d - west) from (r - jane's room): decide on 2.<br>
                 To decide what number is the distance (d - north) from (r - joe's room): decide on 2.<br>
                 To decide what number is the distance (d - south) from (r - fred's room): decide on 2.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Before fooing in elevator:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;If you want to move a room on the map, you'll have to unmap it first.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The elevator is a mappable room. The elevator can be high or low. It is low.<br>
                 The elevator is east of eastern hall.<br>
                 The button is in the elevator. It is fixed in place.<br>
                 Instead of pushing the button:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;The doors shut; the elevator shakes briefly, then the doors open again.&quot;;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; unmap the elevator;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; If the elevator is low begin;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now the elevator is high;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change the east exit of eastern hall to nothing;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change the east exit of eastern balcony to elevator;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change the west exit of elevator to eastern balcony;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; otherwise;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now the elevator is low;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change the east exit of eastern hall to elevator;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change the east exit of eastern balcony to nothing;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change the west exit of elevator to eastern hall;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; end if.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> before fooing when the player is in western balcony or the player is in outside building:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;If you want to split rooms into separate map regions despite them being reachable from each other by compass points, you can override the decision so that it has a different value while working with the automap than when making ordinary movement.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Phony Room is an unmappable room. It is west of office and southwest of western hall.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> To decide what room is the room (dir - west) from (room - western balcony):<br>
                &nbsp;&nbsp;&nbsp;&nbsp; if handling the automap work activity, decide on Phony Room.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> To decide what room is the room (dir - east) from (room - outside building):<br>
                &nbsp;&nbsp;&nbsp;&nbsp; if handling the automap work activity, decide on Phony Room.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> To decide what number is the distance (dir - west) from (room - western balcony): decide on 3.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> before fooing when the player is in western balcony or the player is in eastern balcony:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;(Current versions of Inform do not go through the decision mechanism when responding to the player's compass movements, so the 'if handling the automap work activity' check may not be necessary.  Something like 'decide on nothing / nowhere' end should theoretically allow hiding a passage completely, but all I got were syntax errors.)[line break]&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> before fooing the first time:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; say &quot;You must set the displayed size of the map before it is displayed.  This can be changed at any time not during automap work.[line break]
                To fix the size at the start, use something like 'When play begins: Reserve automap memory of 13 rows by 17 cols;'.[line break]
                Omitting the columns will have it allocate memory to fill the width of the screen, but you must readjust each time the status line is rebuilt.[line break]
                In Glulx games, it will automatically allocate memory as needed.  In Zcode games, you must reserve that memory in advance:
                Use automap reserved area of at least 400.  (It's okay to put such a line in a Glulx game; it will be ignored.)[line break]
                In ZCode mode, you must print at least as many blank lines as your map is high so that the text will start out below the automap.[line break]
                Map sizes are in characters; a room is 1 character square in zoomed out mode, 3 characters square in zoomed in mode.&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Section 99Z (for Z-machine only)</span></blockquote>

                <p><blockquote><span class="indexdullblue"> When play begins: say &quot;[map height blank lines]&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Section 1</span></blockquote>

                <p><blockquote><span class="indexdullblue"> before fooing the first time: say &quot;If you want something other than the usual line above your map, you'll need to build the status line yourself.[line break]&quot;</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The first for constructing the status line rule:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; reserve automap memory of 13 rows;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; fill status bar with table of mostly ordinary status and map.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Table of Mostly Ordinary Status</span><br>
                <table border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> left</span>&nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> central</span>&nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> right
                        </td>
                    </tr>
                    <tr>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> &quot;[location]&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> &quot;&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> &quot;[score]/[turn count]&quot;
                        </td>
                    </tr>
                    <tr>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> &quot;---&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> &quot;---&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp;
                        </td>
                        <td align="left" valign="top">
                            <span class="indexdullblue"> &quot;---&quot;</span>
                        </td>
                    </tr>
                </table>
                </blockquote>

                <p><blockquote><span class="indexdullblue"> Section 98 (for use with Basic Hyperlinks by Emily Short)</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Current autowalk destination is a room that varies. Autowalk destination set is a truth state that varies.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> autowalking is an action applying to one topic. Understand &quot;autowalk to [text]&quot; as autowalking.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> Carry out autowalking:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; if autowalk destination set is true begin;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now autowalk destination set is false;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try hyperlink moving to room current autowalk destination;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; otherwise;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;(Autowalk is meant to be generated by hyperlinks, not typed directly.)&quot;;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; end if.</span></blockquote>

                <p><blockquote><span class="indexdullblue"> The first clicking hyperlink rule:<br>
                &nbsp;&nbsp;&nbsp;&nbsp; if current link number codes a glulx object begin;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; change current autowalk destination to glulx equivalent of current link number;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now autowalk destination set is true;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now glulx replacement command is &quot;autowalk to [current autowalk destination]&quot;;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rule succeeds;<br>
                &nbsp;&nbsp;&nbsp;&nbsp; end if;</span></blockquote>

                <p></p>

            </td>
        </tr>
    </table>
    </p>

    <p>
    <!--CONTENT ENDS-->
</body>
</html>
