<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><img border=0 src="../../../doc_images/Hookindex.png" border=0></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"><img border=0 src="../../../doc_images/Hookup.png" border=0></td></tr></table><p><img border=0 src=../../../doc_images/paste.png>&nbsp;<b>In-Line Topical Hints<font color="#404040"> by </font>Andrew Schultz</b><p><small></small><p><p><hr><p>
<p>
 PURPOSE
<p>
 In-Line Topical Hints is meant to circumnavigate hint menus, which can break immersion for the player. Also, it tries to keep unwieldy hint menus under control. While it offers progressive hinting, it also tries not to overwhelm the reader with text. The basic use case is that a player asks for hints and is given a list of potential topics. Then he types the topic number, and he can type H to see the next hint. By default, hints are shown one at a time if the player requests them continually, but if the player performs a few actions and comes back, the whole list is shown again. This is what the extension terms flexible hinting. The programmer can also force the default to showing all hints in a topic or only the last one, but the player can override these with special commands.
<p>
 There are two ways for a programmer to decide whether to display a specific hint topics. You can either label it active to inactive, or you can make it rule-based and create a rule whether you can display them. If you are comfortable with rules, it may be smoother for you to establish a rule (e.g. if escape hatch is visited and typed-security-code is false).
<p>
 One special case worth mentioning is if there is only one available hint topic. HINT AUTO lets the player toggle whether to skip to the hint in the topic or to avoid spoilers. The default is to avoid spoilers, but the programmer can change this by setting the hint-auto flag to true.
<p>
 So if hint-auto is set to true, and a player tries hints, and there is only one available hint topic, the game chooses that. If not, the player is offered an option from one to the available number of hint topics. Whichever number they choose, they see the next hint they haven't seen yet. Once they choose that option, H goes to the next clue in the topic. It also, by default, only shows the next clue. The player can change this behavior if they want, but the point is to make the hints as unintrusive as possible.
<p>
 One fine-tuning feature is that you are able to create a show-rule in a hint table. If this is left blank, the hint will always be shown. However, it can be changed to eliminate a hint the player should already know about. Let's take potential hints from a formerly popular RPG. While conditional text is possible, the player may appreciate having longer hint topics cut down as much as possible.
<p>
<blockquote><font color="#000080"> &quot;You still need the bell, book and candle before continuing. That hint topic should be available.&quot; -- need-all-three rule<br> &quot;You still need a party of eight players for the journey through the abyss. That hint topic should be available.&quot; -- need-all-eight rule<br> &quot;You still need the mystic weapons and mystic armor. That hint topic should be available.&quot; -- need-weapons-and-armor rule<br> &quot;[if have-everything]Okay, you're ready to enter the Abyss and get the Codex of Ultimate Wisdom[else]It's a long way down, and you'll be frustrated if you get to level 8 without auto-save and get rejected. Still, let's go ahead[end if].&quot;</font></blockquote>
<p>
 Another fine-tuning feature is to label certain hints topics noncritical. If the player just wants to win the game, they may not want to be distracted by a side quest this time around. By default, no hint topics are noncritical, but adjusting the hint-crit-only flag (default false) can change the default behavior, which is showing all hints. HINT CRIT will let the player toggle this at any time.
<p>
 Also, feel free to modify the hint-usage and HINT VERBOSE documentation. I'd be interested how it could be tweaked.
<p>
 Second of all, there are things you may wish to change and variables you may wish to set in a When Play Begins rule. These variables are listed below. There doesn't seem to be much reason to change them afterwards.
<p>
 DEFAULTS POTENTIALLY WORTH CHANGING
<p>
 See &quot;Section Variables the player can change&quot; in the source for this.
<p>
 DEBUGGING WHICH HINTS APPEAR WHEN
<p>
 One of the big problems with a hint system is that your testers can't tell you what's being hinted, when. Or if they do, it sort of spoils the game.
<p>
 Some basic debugging is provided with In-Line Topical Hints so that you are able to verify a test walkthrough works. HINTDEBUG is a not-for-release command that prints out all the topics available every move. This is probably more useful for the programmer than a player, who may get overwhelmed with the text.
<p>
 RECORDHINTS is available for the tester if they wish to create a text file of topics they would've seen. It is Glulx-only, since it requires output to a file. The format is &gt;&gt; (command): (List of topics).
<p>
 ALLHINTNAMES simply shows all the hint names, so you can see if there are any egregious duplicates, or if one sticks out as out-of-place.
<p>
 CREDITS
<p>
 I'd like to thank Alice Grove, who tested this extension for inclusion in Delphina's House, which you should play, even if you ignore the hinting. Her suggestions and bug reports (technical and aesthetic) helped me focus on the big picture and also reminded me of scattered features I'd written up for myself but never written out formally.
<p>
 PREVIOUS VERSIONS
<p>
 1/150214 was part of Delphina's House and featured basic debugging, HA/HL and the basic commands. 2/150418 added debugging exported to a file. 2/200530 includes small tweaks by Gavin Lambert to fix some code that didn't compile in 6M62; also changed the hint-topic to be a kind of object rather than a thing so that it cannot possibly be confused with in-world things.
<p>
 EXAMPLE
<p>
 Example: ** Fetch Quest - A minimal game with hints, rule-dependent and not
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> &quot;Fetch Quest&quot; by Andrew Schultz</font></blockquote>
<p>
<blockquote><font color="#000080"> the story headline is &quot;a minimal example&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> there is no score in this story.</font></blockquote>
<p>
<blockquote><font color="#000080"> the print final score rule is not listed in any rulebook.</font></blockquote>
<p>
<blockquote><font color="#000080"> include In-Line Topical Hints by Andrew Schultz.</font></blockquote>
<p>
<blockquote><font color="#000080"> the bronze coin is a thing.<br> the silver coin is a thing.<br> the gold coin is a thing.</font></blockquote>
<p>
<blockquote><font color="#000080"> the description of a room is usually &quot;[if number of viable directions is 1]The only exit leads[else]Exits lead[end if] [list of viable directions].&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> definition: a direction (called di) is viable:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the room di of the location of the player is nothing, decide no;<br>&nbsp;&nbsp;&nbsp;&nbsp; decide yes;</font></blockquote>
<p>
<blockquote><font color="#000080"> description of the player is &quot;As good-looking as ever, but someone or something wrote something on you: N.GET ALL.S.E.GET ALL.W.W.GET ALL.E.S.&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> check dropping:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;No way! The coin is too valuable, or something.&quot; instead;</font></blockquote>
<p>
<blockquote><font color="#000080"> Center Room is a room. &quot;You can go north to the bronze room, east to the silver room, west to the gold room, or south to the glass room.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Bronze Room is north of Center Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> check going nowhere:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;[if player is in center room]You can go any of the four directions[else]Only one way out[end if].&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Silver Room is east of Center Room. &quot;You can go back west.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Gold Room is west of Center Room. &quot;You can go back east.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Glass Room is south of Center Room. &quot;You can go back north.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The bronze coin is in Bronze Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> when play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; now hint-crit-only is true;<br>&nbsp;&nbsp;&nbsp;&nbsp; activate bronzy;</font></blockquote>
<p>
<blockquote><font color="#000080"> after taking the bronze coin:<br>&nbsp;&nbsp;&nbsp;&nbsp; now the silver coin is in Silver Room;<br>&nbsp;&nbsp;&nbsp;&nbsp; activate silvery;<br>&nbsp;&nbsp;&nbsp;&nbsp; continue the action;</font></blockquote>
<p>
<blockquote><font color="#000080"> after taking the silver coin:<br>&nbsp;&nbsp;&nbsp;&nbsp; now the gold coin is in Gold Room;<br>&nbsp;&nbsp;&nbsp;&nbsp; activate goldy;<br>&nbsp;&nbsp;&nbsp;&nbsp; continue the action;</font></blockquote>
<p>
<blockquote><font color="#000080"> after going to Glass Room:<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has gold coin:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end the story saying &quot;YOU GOT ALL THE LOOT, AND YOU ESCAPED!&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; continue the action;</font></blockquote>
<p>
<blockquote><font color="#000080"> bronzy is a hint-topic. printed name is &quot;Finding the bronze coin&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of bronzy is table of bronzy hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of bronzy hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The bronze coin is not in the Center Room.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;It's in the bronze room.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;North of the Center Room.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> silvery is a hint-topic. printed name is &quot;Finding the silver coin&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of silvery is table of silvery hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of silvery hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The silver coin is somewhere in the maze.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;It's in the silver room.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The silver room is east of the Center Room.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> goldy is a hint-topic. printed name is &quot;Finding the gold coin.&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of goldy is table of goldy hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of goldy hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The gold coin is somewhere in the maze.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;It's in the Gold Room.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;Gold Room is west of the Center Room.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;Once you get the gold coin, you can get out of the maze back at the Glass Room, south of the Center Room.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> get-out is a rule-dependent hint-topic. printed name is &quot;Getting out.&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of get-out is table of get-out hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of get-out hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;There's one room left where nothing's turned up. Well, other than the center.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;Go south from the center.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of get-out is the can-win rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the can-win rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the player has the gold coin, the rule succeeds;<br>&nbsp;&nbsp;&nbsp;&nbsp; the rule fails.</font></blockquote>
<p>
<blockquote><font color="#000080"> is-this-easy is a noncritical active hint-topic. hint-list is table of is-easy hints. printed name is &quot;Isn't this example too easy for a real game?&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> table of is-easy hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;Yes, it is, but I was going for practicality.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;It didn't make sense to get too fancy.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;However, having good test cases is important, so here I'm making a semi-long hint topic to test that.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;There is nothing of value from here on out.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;I basically want a topic where I can test various behaviors in a long table, so I am sure nothing in my extension is broken.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;One more random hint should do it.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;There we go.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> volume testing - not for release</font></blockquote>
<p>
<blockquote><font color="#000080"> test win with &quot;n/get all/s/e/get all/w/w/get all/e/s&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test hprod with &quot;hintdebug/n/get all/hint/topic 1/x me/topic 1&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test hintchange with &quot;n/get all/s/hint/n/topic 1/topic 2&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test block with &quot;hint block/hint/hint all/h/t/topic/topic 1/t 1/t1/1/hint block/hint all/hint review/hint one/hint recent/hint on/hint off/&quot;</font></blockquote>
<p>
 Example: *** Gems - a small game with strictly rule-based hints
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> &quot;Gems&quot; by Andrew</font></blockquote>
<p>
<blockquote><font color="#000080"> include In-Line Topical Hints by Andrew Schultz.</font></blockquote>
<p>
<blockquote><font color="#000080"> use scoring.</font></blockquote>
<p>
<blockquote><font color="#000080"> the maximum score is 6.</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter define gems</font></blockquote>
<p>
<blockquote><font color="#000080"> a gem is a kind of thing. a gem has a direction called open-dir. a gem has a direction called start-dir. a gem has an object called in-item.</font></blockquote>
<p>
<blockquote><font color="#000080"> check dropping a gem:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;No. The gem is probably valuable[if score &gt; 0]. Especially since you already did something with another gem[end if].&quot; instead;</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter which gems</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter Branching Room</font></blockquote>
<p>
<blockquote><font color="#000080"> a room can be gemmish. a room is usually gemmish.</font></blockquote>
<p>
<blockquote><font color="#000080"> Branching Room is a not gemmish room.</font></blockquote>
<p>
<blockquote><font color="#000080"> the gaudy hatch is a supporter in Branching room. &quot;A gaudy hatch blocks the way south. It seems to be indented. You can go any other way from west clockwise to east.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> the blue hole is a container. the blue hole is part of the gaudy hatch.<br> the green hole is a container. the green hole is part of the gaudy hatch.<br> the white hole is a container. the white hole is part of the gaudy hatch.<br> the red hole is a container. the red hole is part of the gaudy hatch.<br> the yellow hole is a container. the yellow hole is part of the gaudy hatch.<br> the black hole is a container. the black hole is part of the gaudy hatch.</font></blockquote>
<p>
<blockquote><font color="#000080"> description of gaudy hatch is &quot;The gaudy hatch has holes positioned in a half-circle: yellow[filled of yellow] on the left, then clockwise: blue[filled of blue], green[filled of green hole], red[filled of red hole], white[filled of white], and finally black[filled of black hole] below them all, opposite the red.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> to say filled of (c - a container):<br>&nbsp;&nbsp;&nbsp;&nbsp; if number of things in c is 1:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot; (filled by the [random thing in c])&quot;;</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter forest room</font></blockquote>
<p>
<blockquote><font color="#000080"> Forest Room is northwest of Branching Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter big sky room</font></blockquote>
<p>
<blockquote><font color="#000080"> Big Sky Room is north of Branching Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter lava room</font></blockquote>
<p>
<blockquote><font color="#000080"> Lava Room is west of Branching Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter snow room</font></blockquote>
<p>
<blockquote><font color="#000080"> Snow Room is east of Branching Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter sunlight room</font></blockquote>
<p>
<blockquote><font color="#000080"> Sunlight Room is northeast of Branching Room.</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter going</font></blockquote>
<p>
<blockquote><font color="#000080"> check going when player is in Branching Room:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the room noun of Branching Room is nowhere:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You can go south, or any direction clockwise from west to east.&quot; instead;<br>&nbsp;&nbsp;&nbsp;&nbsp; repeat with Q running through gems:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if open-dir of Q is noun:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if in-item of Q encloses Q:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue the action;<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;An invisible force repels you.&quot; instead;</font></blockquote>
<p>
<blockquote><font color="#000080"> check going south when player is in Branching Room:<br>&nbsp;&nbsp;&nbsp;&nbsp; if gaudy hatch is visible:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;The hatch blocks you.&quot; instead;<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You walk through the hatch to some place that grants you ultimate wisdom, or something.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; end the story saying &quot;YOU WIN&quot;;</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter gems</font></blockquote>
<p>
<blockquote><font color="#000080"> check inserting a gem into:<br>&nbsp;&nbsp;&nbsp;&nbsp; if second noun is gaudy hatch:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if noun is onyx:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;There's only one hole left, so...&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try inserting onyx into black hole instead;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You may want to specify which hole.&quot; instead;<br>&nbsp;&nbsp;&nbsp;&nbsp; if second noun is not in-item of noun:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;The [noun] doesn't fit there.&quot; instead;<br>&nbsp;&nbsp;&nbsp;&nbsp; else:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;The [noun] fits in naturally.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; increment the score;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if score is 6:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;The hatch clicks open, revealing a way down.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now gaudy hatch is off-stage;</font></blockquote>
<p>
<blockquote><font color="#000080"> report inserting a gem into:<br>&nbsp;&nbsp;&nbsp;&nbsp; do nothing instead;</font></blockquote>
<p>
<blockquote><font color="#000080"> check taking a gem:<br>&nbsp;&nbsp;&nbsp;&nbsp; if noun is enclosed by in-item of noun:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You can't pull it out.&quot; instead;</font></blockquote>
<p>
<blockquote><font color="#000080"> the sapphire is a gem. open-dir of sapphire is north. start-dir of sapphire is northwest. in-item of sapphire is blue hole.<br> the emerald is a gem. open-dir of emerald is northwest. start-dir of emerald is west. in-item of emerald is green hole.<br> the ruby is a gem. open-dir of ruby is west. start-dir of ruby is east. in-item of ruby is red hole.<br> the diamond is a gem. open-dir of diamond is east. start-dir of diamond is northeast. in-item of diamond is white hole.<br> the amethyst is a gem. open-dir of amethyst is northeast. start-dir of amethyst is north. in-item of amethyst is yellow hole.</font></blockquote>
<p>
<blockquote><font color="#000080"> the onyx is a gem. open-dir of onyx is south. in-item of onyx is black hole.</font></blockquote>
<p>
<blockquote><font color="#000080"> when play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; move onyx to a random gemmish room;<br>&nbsp;&nbsp;&nbsp;&nbsp; repeat with Q running through gems:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if Q is not onyx:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let J be the room start-dir of Q from Branching Room;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if onyx is not in J:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now Q is in the room start-dir of Q from Branching Room;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now player carries Q;</font></blockquote>
<p>
<blockquote><font color="#000080"> volume hintsies</font></blockquote>
<p>
<blockquote><font color="#000080"> chapter emerald</font></blockquote>
<p>
<blockquote><font color="#000080"> emerald-hint is a rule-dependent hint-topic. printed name is &quot;using the emerald&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of emerald-hint is emerald-hint rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the emerald-hint rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if emerald is in green hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has emerald or location of emerald is visited:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;<br>&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of emerald-hint is table of emerald hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of emerald hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The emerald is a nice treasure, but you have no treasure horde.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;You can put the emerald in the green hole.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter amethyst</font></blockquote>
<p>
<blockquote><font color="#000080"> amethyst-hint is a rule-dependent hint-topic. printed name is &quot;using the amethyst&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of amethyst-hint is amethyst-hint rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the amethyst-hint rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if amethyst is in yellow hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has amethyst or location of amethyst is visited:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of amethyst-hint is table of amethyst hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of amethyst hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The amethyst is a nice treasure, but you have no treasure horde.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;You can put the amethyst in the yellow hole.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter sapphire</font></blockquote>
<p>
<blockquote><font color="#000080"> sapphire-hint is a rule-dependent hint-topic. printed name is &quot;using the sapphire&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of sapphire-hint is sapphire-hint rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the sapphire-hint rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if sapphire is in blue hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has sapphire or location of sapphire is visited:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of sapphire-hint is table of sapphire hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of sapphire hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The sapphire is a nice treasure, but you have no treasure horde.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;You can put the sapphire in the blue hole.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter diamond</font></blockquote>
<p>
<blockquote><font color="#000080"> diamond-hint is a rule-dependent hint-topic. printed name is &quot;using the diamond&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of diamond-hint is diamond-hint rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the diamond-hint rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if diamond is in white hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has diamond or location of diamond is visited:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of diamond-hint is table of diamond hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of diamond hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The diamond is a nice treasure, but you have no treasure horde.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;You can put the diamond in the white hole.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter ruby</font></blockquote>
<p>
<blockquote><font color="#000080"> ruby-hint is a rule-dependent hint-topic. printed name is &quot;using the ruby&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of ruby-hint is ruby-hint rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the ruby-hint rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if ruby is in red hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has ruby or location of ruby is visited:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of ruby-hint is table of ruby hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of ruby hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The ruby is a nice treasure, but you have no treasure horde.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;You can put the ruby in the red hole.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter onyx</font></blockquote>
<p>
<blockquote><font color="#000080"> onyx-hint is a rule-dependent hint-topic. printed name is &quot;using the onyx&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> avail-rule of onyx-hint is onyx-hint rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> this is the onyx-hint rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if onyx is in black hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule fails;<br>&nbsp;&nbsp;&nbsp;&nbsp; if player has onyx or location of onyx is visited:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of onyx-hint is table of onyx hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of onyx hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The onyx is a nice treasure, but you have no treasure horde.&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> false</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> a rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;You can put the onyx in the black hole.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter hatch</font></blockquote>
<p>
<blockquote><font color="#000080"> hatch-opening is a hint-topic. hatch-opening is active. printed name of hatch-opening is &quot;opening the hatch&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> check opening the gaudy hatch:<br>&nbsp;&nbsp;&nbsp;&nbsp; if onyx is in the black hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Already is.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; else:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;The hatch won't budge. You have no way to grip it.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> check closing the gaudy hatch:<br>&nbsp;&nbsp;&nbsp;&nbsp; if onyx is in the black hole:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You don't want to risk it locking again.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; else:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Already is.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; the rule succeeds;</font></blockquote>
<p>
<blockquote><font color="#000080"> hint-list of hatch-opening is table of hatch hints.</font></blockquote>
<p>
<blockquote><font color="#000080"> table of hatch hints</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> hint-text</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> done-yet</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> show-rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;The hatch's holes provide a clue what to do.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;Each one requires a different gem.&quot;</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;Once you've put all the gems in the hatch, just go south.&quot;</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> chapter tests</font></blockquote>
<p>
<blockquote><font color="#000080"> test win-di with &quot;put diamond in white/e/get ruby/w/put ruby in red/w/get emerald/e/put emerald in green/nw/get sapphire/se/put sapphire in blue/n/get amethyst/s/put amethyst in yellow/ne/get onyx/sw/put onyx in hatch/s&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test win-ru with &quot;put ruby in red/w/get emerald/e/put emerald in green/nw/get sapphire/se/put sapphire in blue/n/get amethyst/s/put amethyst in yellow/ne/get diamond/sw/put diamond in white/e/get onyx/w/put onyx in black/s&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test win-am with &quot;put amethyst in yellow/ne/get diamond/sw/put diamond in white/e/get ruby/w/put ruby in red/w/get emerald/e/put emerald in green/nw/get sapphire/se/put sapphire in blue/n/get onyx/s/put onyx in black/s&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test win-em with &quot;e/put emerald in green/nw/get sapphire/se/put sapphire in blue/n/get amethyst/s/put amethyst in yellow/ne/get diamond/sw/put diamond in white/e/get ruby/w/put ruby in red/w/get onyx/e/put onyx in hatch/s&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test win-sa with &quot;put sapphire in blue/n/get amethyst/s/put amethyst in yellow/ne/get diamond/sw/put diamond in white/e/get ruby/w/put ruby in red/w/get emerald/e/put emerald in green/nw/get onyx/se/put onyx in hatch/s&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> test win-1 with &quot;i/test win-di/test win-ru/test win-am/test win-em/test win-sa&quot;</font></blockquote>
<p>

<p>
<p></body></html>