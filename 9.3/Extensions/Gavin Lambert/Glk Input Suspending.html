<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><img border=0 src="../../../doc_images/Hookindex.png" border=0></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"><img border=0 src="../../../doc_images/Hookup.png" border=0></td></tr></table><p><img border=0 src=../../../doc_images/paste.png>&nbsp;<b>Glk Input Suspending<font color="#404040"> by </font>Gavin Lambert</b><p><small></small><p><p><hr><p>
<p>
 This is an extremely-low-level extension intended only for people messing with Glk input events.
<p>
 According to the Glk spec, it is illegal for anything to be printed to a window that is currently waiting for line or character input, However, there are certain other kinds of event (such as mouse and hyperlink events) which are very likely to occur while otherwise waiting for input (usually line input); ordinarily this means that rules that handle these events cannot print anything, on pain of getting a fatal error (or simply ignored, depending on the interpreter).
<p>
 Unfortunately, that can at times be quite inconvenient, for example if you're trying to debug these rules by printing things, or if Inform randomly decides that it wants to output a paragraph break for reasons known only to itself.
<p>
 This extension monitors line and character input events, allowing you to detect if they're in progress. It also allows you to cancel an event, do something else (such as printing text), and then resume the event.
<p>
 (It does not presently intercept the Unicode-specific input events, but then currently the Inform library does not make use of these anyway.)
<p>
 This is not invisible to the player (so do it sparingly) and outside of specific circumstances you can get the VM into trouble, so use with caution.
<p>
 This extension also introduces an alternative method to replace the player's command from a Glk event than the one provided by Glulx Entry Points. This method should be preferred as the latter has been broken at some point and doesn't actually work anyway.
<p>
 Further documentation is not provided; read the source. If you can't understand the source, you shouldn't be using this extension directly.
<p>
 Example: * Compilation Check
<p>
 This is just here to verify that this extension compiles without additional dependencies.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> &quot;Compilation Check&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Glk Input Suspending by Gavin Lambert.</font></blockquote>
<p>
<blockquote><font color="#000080"> There is a room.</font></blockquote>
<p>

<p>
<p></body></html>