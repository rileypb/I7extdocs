<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><img border=0 src="../../../doc_images/Hookindex.png" border=0></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"><img border=0 src="../../../doc_images/Hookup.png" border=0></td></tr></table><p><img border=0 src=../../../doc_images/paste.png>&nbsp;<b>Rewrite the Command Line<font color="#404040"> by </font>Ron Newcomb</b><p><small></small><p><p><hr><p>
<p>
 This extension erases the command the player typed in so the author may rewrite it. For example, if the player entered X MARKS we can rewrite the command as DECIPHER HIEROGLYPHS, or rewrite ASK GATSBY ABOUT DAISY as &quot;So you know my cousin?&quot;. We need only a say statement, probably in the After Reading a Command rules. For example, this puts quote marks around the command, as if the player's character were speaking.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> After reading a command, say &quot;[input type]'[the player's command],' you ask. [roman type]&quot;.</font></blockquote>
<p>
 The &quot;[input type]&quot; phrase is a style command like that of bold and italic. It will match whatever style the interpreter uses for the player's typing, so what we say will match what the player expects. This also means that its exact appearance will vary depending upon the interpreter used and upon the player's preference settings.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> When play begins, say &quot;&gt; [input type]START GAME[roman type]&quot;</font></blockquote>
<p>
 The extension can be turned on and off. We check to see whether it's on with this.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> if the command line echo mode is echoed by the story...</font></blockquote>
<p>
 If the interpreter the player uses does not support this feature, it will instead be set to &quot;always echoed per the interpreter&quot;. We might check this at startup.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> When play begins, if the command line echo mode is always echoed per the interpreter, say &quot;(Your interpreter does not support some features this game uses.)&quot;</font></blockquote>
<p>
 We can turn the extension off with the following phrase.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> change the command line echo mode to echoed by the library.</font></blockquote>
<p>
 And then, back on again.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> change the command line echo mode to echoed by the story.</font></blockquote>
<p>
 The line break from the player pressing the enter key is part of the command, so we occasionally need manage line break issues. We can use this for various effects, such as using &quot;[run paragraph on]&quot; to incorporate the player's typing into a larger paragraph, or &quot;[line break]&quot; so parser errors are not similarly incorporated.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> Before printing a parser error when the command line echo mode is echoed by the story, say line break.</font></blockquote>
<p>
 We can ask if the way the interpreter renders &quot;[input type]&quot; is different than normal. Since we'll be rewriting the player's command presumably to improve the flow of prose, it may become extra difficult for the player to determine where to begin reading again after pressing the ENTER key. This is especially true if we change the command prompt so it, too, blends into the prose. If the styling of the input text is the same as the output's styling, we might wish to make them different for that reason. Although not all interpreters report this faithfully, most tend to err conservatively, saying the two styles are identical and still need to be differentiated even when they do not.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> unless input type differs from roman type, say bold type.</font></blockquote>
<p>
 Example: * Unabbreviate - Expands four common player abbreviations to full words.
<p>
<blockquote><font color="#000080"><img border=0 src=../../../doc_images/paste.png> &quot;Unabbreviate&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Rewrite the Command Line by Ron Newcomb.</font></blockquote>
<p>
<blockquote><font color="#000080"> There is a room. &quot;Testing commands bypass this feature.  Try L for look, Z for wait, I for inventory, or X for examine.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> After reading a command when the player's command includes &quot;x&quot;, replace the matched text with &quot;Examine&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> After reading a command when the player's command includes &quot;l&quot;, replace the matched text with &quot;Look&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> After reading a command when the player's command includes &quot;z&quot;, replace the matched text with &quot;Wait&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> After reading a command when the player's command includes &quot;i&quot;, replace the matched text with &quot;Take inventory&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> After reading a command, if the command line echo mode is echoed by the story, say &quot;[input type][the player's command][roman type]&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins, if the command line echo mode is always echoed per the interpreter, say &quot;Your interpreter does not support this feature.  Try the Quixe interpreter from http://eblong.com/zarf/glulx/quixe/ either online, or, downloaded and installed using the following line of code.[paragraph break]Release along with the 'Quixe' interpreter.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Before printing a parser error when the command line echo mode is echoed by the story, say line break.</font></blockquote>
<p>

<p>
<p></body></html>