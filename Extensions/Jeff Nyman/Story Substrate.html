<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"></td></tr></table><p><img border=0 src=../../doc_images/paste.png>&nbsp;<b>Story Substrate<font color="#404040"> by </font>Jeff Nyman</b><p><small></small><p><p><hr><p>
<p>
 Story files are built on a particular version of Inform 7 which is utilizing a series of extensions to provide functionality. Inform 7 is, in turn, backed up by a version of Inform 6 which is itself using a particular Inform 6 library. Much of this information is printed as part of the &quot;banner&quot; that displays when a story file starts or if a &quot;version&quot; command is used. There may be a desire to get some of that information individually and that's what this extension helps to do.
<p>
 There is also the interpreter that the story itself is running on. This extension will attempt to gather some of that information, although interpreter information can only be recovered in a Glulx context.
<p>
 All of this is what I refer to as the &quot;substrate.&quot; This extension helps recover and display that information.
<p>
 Section - Serial Number
<p>
 To get the serial number:
<p>
<blockquote><font color="#000080"> say &quot;Serial number: [story serial number].&quot;</font></blockquote>
<p>
 Section - IFID
<p>
 IFID stands for Interactive Fiction IDentifier. An IFID is a number that is unique to each story file. This gives players, authors, and archivists a universal and unambiguous way in which to refer to a given story file. The IFID forever refers to that story file in all of its versions, regardless of its serial number, release number and so forth. Conceptually it's pretty much identical to the idea of the ISBN system for books. The IFID system is defined by the Treaty of Babel, which was created in 2006.
<p>
 To get the IFID:
<p>
<blockquote><font color="#000080"> say &quot;IFID: [story IFID number].&quot;</font></blockquote>
<p>
 Section - Inform 7
<p>
 Inform 7 provides a specific compiler called NI (Natural Inform) which has its own version. To get that version:
<p>
<blockquote><font color="#000080"> say &quot;Inform 7 compiler: [I7 build].&quot;</font></blockquote>
<p>
 NI is the Inform 7 compiler that in turn relies on a specific Inform 6 compiler. To get that version:
<p>
<blockquote><font color="#000080"> say &quot;Inform 6 compiler: [I6 build].&quot;</font></blockquote>
<p>
 Inform 6 relies on a specific library of code. To get the version of the Inform 6 library:
<p>
<blockquote><font color="#000080"> say &quot;Inform 6 library: [I6 library].&quot;</font></blockquote>
<p>
 All of the above translates into what I call the &quot;Inform 7 Identity&quot;, meaning that with the above information you can construct a very specific identity for the particular version of Inform that was used to compile a given story file. You can get that full identity with:
<p>
<blockquote><font color="#000080"> say &quot;Inform 7 Identity: [I7 identity].&quot;</font></blockquote>
<p>
 This &quot;identity&quot; is essentially what's printed as part of the starting banner. Having a simple way to refer to the string, however, means you can recover it if you decided to override how, or even if, the banner is displayed.
<p>
 Section - Interpreter Style (Glulx Only)
<p>
 There have been various ways to get information about the interpreter that the story file is running on. Most of them are imperfect at best so this extension doesn't really try to do much of what's called &quot;interpreter sniffing.&quot; These next bits only work under Glulx interpreters.
<p>
 To get the Glulx verison number that the story is being interpreted under:
<p>
<blockquote><font color="#000080"> say &quot;Glulx version: [current Glulx version number].&quot;</font></blockquote>
<p>
 Glulx is the virtual machine, which has its own version number, as distinct from the interpreter that is implementing the virtual machine. To get the Glulx interpreter version number:
<p>
<blockquote><font color="#000080"> say &quot;Interpreter version: [current interpreter version number].&quot;</font></blockquote>
<p>
 There is yet one more level to consider which is the I/O implementation being used, which has to do with Glk. This, too, will have its own version. To get the I/O version:
<p>
<blockquote><font color="#000080"> say &quot;I/O version: [current IO version number].&quot;</font></blockquote>
<p>
 Whether the above information is useful really depends on whether you are using some effect or feature that is known to exist only within certain Glulx versions or with certain Glk I/O implementations. The interpreter version is less useful without knowing what the actual interpreter is so, for now, that's included for completeness of versioning information rather than as anything terribly useful.
<p>
 That said, I have implemented those parts of Interpreter Sniffing that attempt to look for the current implemenation of either the IO verison or the Glulx verison. You can have those displayed as such:
<p>
<blockquote><font color="#000080"> say &quot;Current IO Implementation: [current IO implementation].&quot;;<br> say &quot;Current Glulx Implementation: [current Glulx implementation].&quot;</font></blockquote>
<p>
 You can try to determine what the current interpreter is by the following:
<p>
<blockquote><font color="#000080"> say &quot;Current Interpreter: [current interpreter].&quot;</font></blockquote>
<p>
 However the mechanisms in place to be able to detect are extremely poor, at best. So it's unclear if this is has any real value.
<p>

<p>
<p></body></html>