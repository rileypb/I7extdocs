<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"></td></tr></table><p><img border=0 src=../../doc_images/paste.png>&nbsp;<b>Object Response Tests<font color="#404040"> by </font>Juhana Leinonen</b><p><small></small><p><p><hr><p>
<p>
 Chapter: Basic usage
<p>
 Object Response Tests adds new testing commands ANALYZE and TRY. ANALYZE can be used to execute all available commands on a single object to see whether all the messages make sense. TRY is similar but in 'reverse': it tests one verb with all the objects currently in the location. The syntax is TRY &lt;action&gt;, for example TRY PUSHING.
<p>
 For actions that don't act on a noun, like jumping or waiting, there's an ANALYZE NOUNLESS (or just NOUNLESS) command that runs all such actions.
<p>
 There's also an ANALYZE ALL command for those who are feeling adventurous. It runs all the tests on all the objects currently in the location. It is mainly useful for locations with not that many objects to test.
<p>
 For testing the default library actions, just include the extension in your project and both these commands will become available. Actions related to speaking with persons (saying, telling, asking) are excluded because of the various ways different games handle conversation.
<p>
 Chapter: Removing and adding tests
<p>
 Some games may disable some of the standard library actions. To avoid confusion it might be better to skip testing these actions altogether.
<p>
<blockquote><font color="#000080"> When play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; remove the test burning rule;<br>&nbsp;&nbsp;&nbsp;&nbsp; remove the test pushing to rule.</font></blockquote>
<p>
 Of course, most games have custom actions that are not defined in the standard library. They can be included in the tests by making testing rules for them and adding those rules in the Table of analyzing actions. They will then be available for both ANALYZE and TRY commands.
<p>
<blockquote><font color="#000080"> This is the test swimming in rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; announce tests for &quot;swimming in [the noun]&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; try the test-actor swimming in the noun.</font></blockquote>
<p>
<blockquote><font color="#000080"> This is the test kicking rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; announce tests for &quot;kicking [the noun]&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; try the test-actor kicking the noun.</font></blockquote>
<p>
<blockquote><font color="#000080"> Table of analyzing actions (continued)</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> topic</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> testing rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;swimming in&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> test swimming in rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;kicking&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> test kicking rule</font></font></td></tr></table></blockquote>
<p>
 For nounless commands the procedure is the same but the table is called &quot;Table of nounless analyzing actions&quot;.
<p>
 Chapter: Changing the actor
<p>
 It is possible to run the tests as someone other than the player character. The test-actor variable holds the person who will be the actor in the tests. This can be changed during the game with the command ACTOR IS; for example ACTOR IS BOB.
<p>
 If the test-actor is not the player character any failed actions (that would usually give the &quot;Bob is unable to do that&quot; response) will not print anything at all. Also, the tests will not abide by the persuasion rules. In other words, if you run the tests as Bob, he will respond as if the game's source code read &quot;try Bob shaving the yak&quot;, not as if the player had commanded BOB, SHAVE YAK which is by default blocked by the standard library (&quot;Bob has better things to do.&quot;).
<p>
 Note that the test-actor variable is set when the play begins. If the game changes the player character, the test-actor variable doesn't change automatically (that is, if you change the player character mid-game, the tests will be run as the original player character if not instructed otherwise).
<p>
 Chapter: A note on releasing
<p>
 The extension automatically disables itself in release versions. Any abovementioned modifications to its behavior should therefore be written in a section that has &quot;Not for release&quot; in the title (see chapter 2.9 &quot;Material not for release&quot; in the I7 manual) to avoid errors in compiling the final product.
<p>
 Chapter: Version history
<p>
 Section: Version 7 (2015-12-31)
<p>
 - updated to work with release 6M62 of Inform. - renamed the 'set testing actor' rule to 'set default testing actor' for clarity.
<p>
 Section: Version 6 (2014-04-30)
<p>
 - updated to work with the new release of Inform 7. - added the 'analyze nounless' action.
<p>
 Section: Version 5 (2013-10-26)
<p>
 - added a way to disable tests without using the deprecated procedural rules. - changed deprecated &quot;change&quot; phrases to &quot;now&quot;. - removed a duplicate test attacking rule from the test set. - renamed the test clothing rule to test wearing rule. Older versions of I7 choked on the word &quot;wearing&quot; in the rule but it seems to work in the latest.
<p>
 Section: Version 4 (2010-06-14)
<p>
 - changed 'say test announcements for' to 'announce tests for' so that the extension would be compatibile with Inform build 6E59.
<p>
 Section: Version 3 (2009-09-23)
<p>
 - changed the hardcoded &quot;[italic type]examining [the noun]: [roman type]&quot; to a more flexible 'say test announcements for' phrase. - changed the extension so that the table of analyzing actions is not for debug builds only, so that you can have continuations of that table in the game code and you don't have to delete them or have them in one &quot;not for release&quot; -chapter when a release version is compiled.
<p>
 Section: Version 2 (2008-12-23)
<p>
 - added the command TRY for testing a single verb with all items in the location (thanks to Taleslinger for the idea).
<p>
 - added the command ANALYZE ALL for running all tests on every single item in the location (thanks to Emily Short for the inspiration).
<p>
 - added the possibility to change the actor for the tests.
<p>
 - changed the analyzing action's name to object-analyzing to avoid collisions with other code. It's likely that people might have an action called &quot;analyzing&quot; in their work.
<p>
 - added a not-for-release chapter heading to example B, just because that's what's recommended in the documentation (thanks to the person in ifMUD whose name I didn't write down and have blissfully forgotten).
<p>
 Section: Version 1 (2008-11-18) - initial release
<p>
 Example: * Camp Fire - An example of basic use of the extension
<p>
<blockquote><font color="#000080"><img border=0 src=../../doc_images/paste.png> &quot;Camp Fire&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Object Response Tests by Juhana Leinonen.</font></blockquote>
<p>
<blockquote><font color="#000080"> The Camp is a room.</font></blockquote>
<p>
<blockquote><font color="#000080"> The bonfire is in the Camp. It is fixed in place. The description is &quot;The bonfire is blazing hot.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Alice is a woman in the Camp.</font></blockquote>
<p>
<blockquote><font color="#000080"> Instead of touching the bonfire:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Ow! You almost burn your fingers.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Test me with &quot;analyze bonfire/try touching/analyze nounless/actor is Alice/analyze bonfire&quot;.</font></blockquote>
<p>
 When we run the test, we notice that at least the response to &quot;taste bonfire&quot; should be changed to something more appropriate.
<p>
 Example: ** Porcelain - Skipping tests that have destructive side effects
<p>
 Ignoring a verb in certain cases involves removing the existing rules and writing new ones that take special cases into account.
<p>
<blockquote><font color="#000080"><img border=0 src=../../doc_images/paste.png> &quot;Porcelain&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Object Response Tests by Juhana Leinonen.</font></blockquote>
<p>
<blockquote><font color="#000080"> The Porcelain shop is a room.</font></blockquote>
<p>
<blockquote><font color="#000080"> The Ming dynasty vase is in the porcelain shop. The description is &quot;It looks very delicate and fragile.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Instead of taking the Ming dynasty vase:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You're afraid that you might drop it.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> After pushing or touching the Ming dynasty vase:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Whoops! The vase falls off its pedestal and shatters into thousand pieces.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; remove the Ming dynasty vase from play.</font></blockquote>
<p>
<blockquote><font color="#000080"> Chapter Tests - Not for release</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; remove the test pushing rule;<br>&nbsp;&nbsp;&nbsp;&nbsp; remove the test touching rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> This is the test pushing non-fragile things in rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the noun is not the Ming dynasty vase:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; announce tests for &quot;pushing [the noun]&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try pushing the noun.</font></blockquote>
<p>
<blockquote><font color="#000080"> This is the test touching non-fragile things in rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the noun is not the Ming dynasty vase:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; announce tests for &quot;touching [the noun]&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try touching the noun.</font></blockquote>
<p>
<blockquote><font color="#000080"> Table of analyzing actions (continued)</font><br><table border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> topic</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> testing rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;pushing&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> test pushing rule</font></td></tr><tr><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> &quot;touching&quot;</font>&nbsp;&nbsp;&nbsp;&nbsp;</font></td><td align="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><font color="#000080"> test touching rule</font></font></td></tr></table></blockquote>
<p>
<blockquote><font color="#000080"> Test me with &quot;analyze vase/push vase&quot;.</font></blockquote>
<p>

<p>
<p></body></html>