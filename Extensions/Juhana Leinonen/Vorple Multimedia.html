<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"></td></tr></table><p><img border=0 src=../../doc_images/paste.png>&nbsp;<b>Vorple Multimedia<font color="#404040"> by </font>Juhana Leinonen</b><p><small></small><p><p><hr><p>
<p>
 Chapter: Including media files
<p>
 Media files (images and audio) should be declared in the story source so that Inform knows to include them in the release version.
<p>
<blockquote><font color="#000080"> Release along with the file &quot;whatever.png&quot;.</font></blockquote>
<p>
 The files should be placed in the Materials directory, as per chapter 23.7. in Writing with Inform.
<p>
 Note that we shouldn't use the &quot;Figure of ...&quot; or &quot;Sound of ...&quot; directives described in chapter 22 of Writing with Inform. Files declared this way won't be included correctly in the release folder.
<p>
 Chapter: Images
<p>
 Images can be displayed with the &quot;place an image&quot; phrase:
<p>
<blockquote><font color="#000080"> place an image &quot;pic.jpg&quot; with the description &quot;Example image&quot;;</font></blockquote>
<p>
 The description is shown in standard interpreters instead of the picture and read aloud by screen readers, so it should be a compact but accurate description of what the image depicts. Especially if seeing the image is relevant to the story or to solving a puzzle, the description should give the same information to those who can't see the image.
<p>
 By default the image is displayed left-aligned. The position can be changed by giving it as a parameter:
<p>
<blockquote><font color="#000080"> place an image &quot;pic.jpg&quot; with the description &quot;Example image&quot;, centered;</font></blockquote>
<p>
 The possible values are centered, aligned left, aligned right, floating left or floating right. Floating means that the image is set to the left or to the right and the text is wrapped around it, in contrast to left or right aligned where the remaining space is left blank.
<p>
 Images should be in jpg, png or gif format.
<p>
 The images can be named by adding 'called &quot;something&quot; ':
<p>
<blockquote><font color="#000080"> place an image &quot;pic.jpg&quot; called &quot;example&quot; with the description &quot;Example image&quot;;</font></blockquote>
<p>
 Note that in HTML the image is wrapped in a div that receives the image's name as a class. The above code produces the following HTML:
<p>
<blockquote><font color="#000080"> &lt;div class=&quot;vorple-image example&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp; &lt;img src=&quot;pic.jpg&quot; alt=&quot;Example image&quot;&gt;<br> &lt;/div&gt;</font></blockquote>
<p>
 Tip: When releasing the project, the file &quot;Cover.jpg&quot; or &quot;Cover.png&quot; is automatically included in the same place where other project files are. Therefore we can always show the cover image with:
<p>
<blockquote><font color="#000080"> place an image &quot;Cover.jpg&quot; with the description &quot;Cover image&quot;;</font></blockquote>
<p>
 Section: Images from the Internet
<p>
 The &quot;place an image&quot; phrase accepts direct web addresses of images as well:
<p>
<blockquote><font color="#000080"> place an image &quot;http://example.com/image.jpg&quot;;</font></blockquote>
<p>
 Some important caveats:
<p>
 - Things on the Internet tend to disappear over time: they get removed, moved, or the web site just ceases to exists. If you don't have control over the image source, it's better to just download the image and include it with other story resources - within the limits of copyright permissions, of course.
<p>
 - Don't include an image as a link if you don't have a permission to do so! It's called 'hotlinking' and is generally frowned upon as it causes sometimes expensive traffic to the original web site. Furthermore the owner of the hotlinked web site might change the image to something else, which might be more than awkward to the author. This obviously doesn't include image sharing web sites that are explicitly meant for this kind of use.
<p>
 Section: Preloading images
<p>
 Images can be preloaded either individually or as a list:
<p>
<blockquote><font color="#000080"> When play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; preload image &quot;pic.jpg&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; preload images { &quot;pic1.jpg&quot;, &quot;pic2.png&quot; }.</font></blockquote>
<p>
 Preloading images makes them appear immediately when they are later included on the page. Otherwise the images are loaded only when they are first displayed which may take some time with slower connections, resulting in a noticeable delay between when they should be shown and when they have loaded and actually appear.
<p>
 Images must be preloaded inside a rule, most commonly in a When play begins rule. We can save bandwidth by preloading in later stages when the story is closer to the point when it should display the image, but note that starting to preload at the same time when the image is displayed is too late and preloading images that are shown right when the story begins is not useful.
<p>
 Chapter: Audio
<p>
 There are two types of audio: sound effects and music. The main difference is that multiple sound effects can be played at the same time, and at the same time as background music is playing. With music only one track can be playing at the same time, and starting to play another music file the previous one will stop.
<p>
 Audio files should be in either mp3 or ogg format.
<p>
<blockquote><font color="#000080"> play sound effect file &quot;bang.mp3&quot;;<br> play music file &quot;horns.mp3&quot;;</font></blockquote>
<p>
 By default the files are played once and then stopped. They can also be set to loop:
<p>
<blockquote><font color="#000080"> play music file &quot;background.mp3&quot;, looping;</font></blockquote>
<p>
 Starting to play a music file that's already playing doesn't do anything other than set the looping status. In other words, if the file &quot;mozart.mp3&quot; is already playing and we try to play it again:
<p>
<blockquote><font color="#000080"> play music file &quot;mozart.mp3&quot;, looping;</font></blockquote>
<p>
... then nothing happens, except that when the music ends it starts to loop. Conversely, if we leave out the 'looping' option then the music will not loop when it ends, even if it was originally set to loop.
<p>
 If we do want the music to always start playing from the beginning even when it's already playing, we can command:
<p>
<blockquote><font color="#000080"> play music file &quot;mozart.mp3&quot;, always from the start;</font></blockquote>
<p>
 Starting a new music track while a different track is playing will fade out the old track before starting the new one. The old track fades out during one second and then waits another second to play the next one.
<p>
 Once playing the sounds can be stopped with the following phrases:
<p>
<blockquote><font color="#000080"> stop sound effects;<br> stop music;<br> stop all audio;</font></blockquote>
<p>
 (Naturally stopping just the sound effects won't affect music, and vice versa.) Stopping music or all audio also clears the playlist (see the next chapter.)
<p>
 Whether audio is currently playing can be tested with these phrases:
<p>
<blockquote><font color="#000080"> if music is playing:...<br> if a sound effect is playing:...<br> if any audio is playing:...<br> if the audio file called &quot;bigband.mp3&quot; is playing:...</font></blockquote>
<p>
 An audio file is considered 'playing' even when it's still loading and hasn't actually started to play yet. 'If... is playing' only checks for audio that is initiated by Vorple.
<p>
 The currently playing music file can be retrieved with 'the currently playing music file':
<p>
<blockquote><font color="#000080"> if the currently playing music file is &quot;elvis.mp3&quot;:...</font></blockquote>
<p>
 Section: Audio restrictions in browsers
<p>
 Due to restrictions set by most modern browsers, audio will not play unless the user has interacted with the page in some way, be it clicking or tapping on something or typing on the keyboard. This is to prevent ads and autoplaying videos from annoying the user, and mobile devices to preserve device battery.
<p>
 This becomes an issue if we wish to start playing music immediately when the story starts. A workaround is to start playing only after the player has typed their first command, which works for most browsers and mobile devices.
<p>
<blockquote><font color="#000080"> After reading a command when the turn count is 1:<br>&nbsp;&nbsp;&nbsp;&nbsp; play music file &quot;intro.mp3&quot;.</font></blockquote>
<p>
 Another option is to make an intro screen (possibly with the Modal Windows extension) that forces the player to click a button or type a command to start the game and start playing the music.
<p>
 The Safari browser on desktop Macs is extremely protective when it comes to playing sounds: it requires that the user initiates the sound directly (e.g. by pushing a button.) In Safari the above mentioned 'tricks' to get the music playing won't work and there is currently no workaround.
<p>
 Chapter: Playlists
<p>
 Playlists are collections of music that automatically play one after another. Playlists can be started with the following phrase:
<p>
<blockquote><font color="#000080"> start the playlist { &quot;one.mp3&quot;, &quot;two.mp3&quot;, &quot;three.mp3&quot; };</font></blockquote>
<p>
 The file &quot;one.mp3&quot; starts to play, when it finishes &quot;two.mp3&quot; starts automatically, and finally after that &quot;three.mp3&quot; plays. If we want the playlist to repeat from the start after it has played the last track:
<p>
<blockquote><font color="#000080"> start the playlist { &quot;one.mp3&quot;, &quot;two.mp3&quot;, &quot;three.mp3&quot; }, looping;</font></blockquote>
<p>
 We can also play the list in a random order:
<p>
<blockquote><font color="#000080"> start the playlist { &quot;one.mp3&quot;, &quot;two.mp3&quot;, &quot;three.mp3&quot; }, shuffled;</font></blockquote>
<p>
 Both options can be used together, but a looping playlist is shuffled only once. When the playlist finishes and restarts again, it replays in the same order as the first time.
<p>
 If the first track in the playlist is already playing at the same time when the playlist is started, the track will keep playing normally to the end and then continue from the second track in the playlist. Otherwise any music track that's playing will stop and the playlist will start immediately from the first item.
<p>
 If a music file is played manually with the &quot;play music file...&quot; phrase while the playlist is running, the playlist will continue from the next track after the manually started music ends. Starting a new playlist while the previous one is playing will replace the old playlist with the new one.
<p>
 The playlist can be cleared with:
<p>
<blockquote><font color="#000080"> clear the playlist;</font></blockquote>
<p>
 Clearing the playlist doesn't immediately stop the currently playing track. Unless instructed otherwise, the track will continue but doesn't start a new track when it ends. Stopping music with &quot;stop the music&quot; or &quot;stop all audio&quot; phrases clears the playlist automatically.
<p>
 Note that the music system uses the playlist internally for queueing songs, so remember to clear the playlist before playing a new track or starting a new playlist.
<p>
 In other words, don't do this as it won't work:
<p>
<blockquote><font color="#000080"> play the music file called &quot;new.mp3&quot;;<br> clear the playlist;</font></blockquote>
<p>
 Do this instead:
<p>
<blockquote><font color="#000080"> clear the playlist;<br> play the music file called &quot;new.mp3&quot;;</font></blockquote>
<p>
 Example: * Serinette - Basic example of playing music and sound effects.
<p>
 The serinette (a type of music box) plays music when it opens and a sound effect when it's wound. We'll also show its picture when it's examined.
<p>
 The example media files can be downloaded from https://vorple-if.com/resources.zip
<p>
<blockquote><font color="#000080"><img border=0 src=../../doc_images/paste.png> &quot;Serinette&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Vorple Multimedia by Juhana Leinonen.<br> Release along with the &quot;Vorple&quot; interpreter.</font></blockquote>
<p>
<blockquote><font color="#000080"> Release along with the file &quot;winding.mp3&quot;.<br> Release along with the file &quot;musicbox.mp3&quot;.<br> Release along with the file &quot;serinette.jpg&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> Drawing room is a room. &quot;The drawing room is tastefully decorated.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The serinette is an openable closed container in the drawing room. &quot;A beautiful music box sits on a table.&quot; The description is &quot;There's a winding key behind the box.&quot;<br> Understand &quot;music&quot; and &quot;box&quot; as the serinette.</font></blockquote>
<p>
<blockquote><font color="#000080"> Before examining the serinette:<br>&nbsp;&nbsp;&nbsp;&nbsp; place an image &quot;serinette.jpg&quot; with the description &quot;A beautiful music box.&quot;, centered.</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; preload image &quot;serinette.jpg&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> A winding key is part of the serinette.</font></blockquote>
<p>
<blockquote><font color="#000080"> The serinette can be wound or unwound. The serinette is unwound.</font></blockquote>
<p>
<blockquote><font color="#000080"> Winding is an action applying to one thing. Understand &quot;wind [something]&quot; as winding.</font></blockquote>
<p>
<blockquote><font color="#000080"> Check winding when the noun is not the serinette:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;That's not something you can wind.&quot; instead.</font></blockquote>
<p>
<blockquote><font color="#000080"> Check winding when the noun is wound:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;[The noun] is already wound.&quot; instead.</font></blockquote>
<p>
<blockquote><font color="#000080"> Carry out winding:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the serinette is open:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;(first closing the serinette)[command clarification break]&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; silently try closing the serinette;<br>&nbsp;&nbsp;&nbsp;&nbsp; now the serinette is wound;<br>&nbsp;&nbsp;&nbsp;&nbsp; play sound effect &quot;winding.mp3&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> Report winding:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You turn the winding key until it turns no more.&quot;;</font></blockquote>
<p>
<blockquote><font color="#000080"> Instead of turning or winding the winding key:<br>&nbsp;&nbsp;&nbsp;&nbsp; try winding the serinette.</font></blockquote>
<p>
<blockquote><font color="#000080"> Instead of inserting something into the serinette:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;It's not the kind of box that can contain anything other than its own mechanism.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Carry out opening the serinette when the serinette is wound:<br>&nbsp;&nbsp;&nbsp;&nbsp; play music file &quot;musicbox.mp3&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> After opening the serinette:<br>&nbsp;&nbsp;&nbsp;&nbsp; if the serinette is unwound:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Nothing happens. Looks like it must be wound first.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp; otherwise:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now the serinette is unwound;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue the action.</font></blockquote>
<p>
<blockquote><font color="#000080"> Carry out closing the serinette:<br>&nbsp;&nbsp;&nbsp;&nbsp; stop the music.</font></blockquote>
<p>
<blockquote><font color="#000080"> Test me with &quot;x serinette / wind serinette / open serinette&quot;.</font></blockquote>
<p>
 Example: ** Port Royal Reggae - Applying background music to different regions.
<p>
 We'll spice up the Port Royal example from Writing with Inform with some background music.
<p>
 When the player moves around the map the music will change according to the region they're in. We'll assign each region a music file, and the music changes only if the new room is in a different region than the one we just came from so that the same sound file won't start over when the player moves inside the same region.
<p>
 With small modifications the code could be used with individual rooms or scenes.
<p>
 The first part is identical with the Port Royal 3 example in the Writing with Inform manual. Vorple-specific code starts from chapter 2 at the end.
<p>
 The audio files used here can be downloaded from https://vorple-if.com/resources.zip
<p>
<blockquote><font color="#000080"><img border=0 src=../../doc_images/paste.png> &quot;1691&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Chapter 1 - World</font></blockquote>
<p>
<blockquote><font color="#000080"> Fort James is a room. &quot;The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Thames Street End is south of Fort James. &quot;The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond.  Most of that stretch is full of people at all hours.  Imported goods are moved off of ships and taken to distributors; exported goods are brought to be loaded; and there is one public house and brothel for every ten inhabitants.[paragraph break]Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Lime Street is south of Thames Street End. West of Thames Street End is north of Fisher's Row. The description of Fisher's Row is &quot;A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Thames Street End is down from Fort James. Up from Thames Street End is nowhere.</font></blockquote>
<p>
<blockquote><font color="#000080"> Water Lane is east of Thames Street End. &quot;Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.<br><br>Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> East of Water Lane is a room called Thames Street at the Wherry Bridge. Thames Street at the Wherry Bridge has the description &quot;To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The Fishmarket is southwest of Thames Street at the Wherry Bridge.</font></blockquote>
<p>
<blockquote><font color="#000080"> The Private Alley is south of Thames Street at the Wherry Bridge. &quot;You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The Feathers is inside from the Private Alley. &quot;Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night.&quot; The Feathers Bedroom is above the Feathers.</font></blockquote>
<p>
<blockquote><font color="#000080"> Thames Street by the King's House is east of Thames Street at the Wherry Bridge. &quot;The King's House is reserved for the use of the Governor, but he does not live in it, and it is frequently being rented out to some merchant so that the government will at least derive some value from it. It is nearly the least interesting establishment on Thames Street, and the crowd -- which, to the west, is extremely dense -- here thins out a bit.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Thames Street before Fort Carlisle is east of Thames Street by the King's House. &quot;Here Thames Street, formerly a respectable width, narrows to a footpath in order to edge around the front of Fort Carlisle, underneath the mouths of the cannon.<br><br>There are no buildings on the harbour side of Thames Street at this point, which means that you have an unusually good view of the ships at dock, water beyond, and the Blue Mountains rising on the other side of the harbour.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> South of Thames Street before Fort Carlisle is a room called Fort Carlisle. The description of Fort Carlisle is &quot;Handsomely arrayed with cannons which you could fire at any moment -- though of course there are ships at dock which might be in the way.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Queen Street End is south of Lime Street.</font></blockquote>
<p>
<blockquote><font color="#000080"> Queen Street Middle is east of Queen Street End.</font></blockquote>
<p>
<blockquote><font color="#000080"> Queen Street East is east of Queen Street Middle and south of Private Alley.</font></blockquote>
<p>
<blockquote><font color="#000080"> Queen Street at the Prison is east of Queen Street East.</font></blockquote>
<p>
<blockquote><font color="#000080"> Inland is a region. Queen Street End, Queen Street Middle, Queen Street East, Private Alley, Lime Street, and Queen Street at the Prison are in Inland.</font></blockquote>
<p>
<blockquote><font color="#000080"> Waterfront is a region. Thames Street before Fort Carlisle, Thames Street by the King's House, Thames Street at the Wherry Bridge, Water Lane, Fishmarket, Fisher's Row, and Thames Street End are in Waterfront.</font></blockquote>
<p>
<blockquote><font color="#000080"> Military Holdings is a region. Fort Carlisle and Fort James are in Military Holdings.</font></blockquote>
<p>
<blockquote><font color="#000080"> Tavern is a region. It is in Inland. Feathers and Feathers Bedroom are in Tavern.</font></blockquote>
<p>
<blockquote><font color="#000080"> Chapter 2 - Background music</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Vorple Multimedia by Juhana Leinonen.<br> Release along with the &quot;Vorple&quot; interpreter.</font></blockquote>
<p>
<blockquote><font color="#000080"> Release along with the file &quot;inland.mp3&quot;.<br> Release along with the file &quot;waterfront.mp3&quot;.<br> Release along with the file &quot;wind.mp3&quot;.<br> Release along with the file &quot;tavern.mp3&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> A region has some text called the background audio.<br> The current region is a region that varies.</font></blockquote>
<p>
<blockquote><font color="#000080"> The background audio of Inland is &quot;inland.mp3&quot;.<br> The background audio of Waterfront is &quot;waterfront.mp3&quot;.<br> The background audio of Military Holdings is &quot;wind.mp3&quot;.<br> The background audio of Tavern is &quot;tavern.mp3&quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> Every turn when the map region of the location is not nothing and the map region of the location is not the current region and the background audio of the map region of the location is not &quot;&quot; (this is the play background audio rule):<br>&nbsp;&nbsp;&nbsp;&nbsp; play music file background audio of the map region of the location, looping;<br>&nbsp;&nbsp;&nbsp;&nbsp; now the current region is the map region of the location.</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins (this is the start initial background audio rule):<br>&nbsp;&nbsp;&nbsp;&nbsp; if the map region of the location is not nothing and the background audio of the map region of the location is not &quot;&quot;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; follow the play background audio rule.</font></blockquote>
<p>
<blockquote><font color="#000080"> Test me with &quot;s / s / n / e / e / s / in&quot;.</font></blockquote>
<p>
 We could also set up playlists for each region instead of just one track.
<p>
<blockquote><font color="#000080"> A region has a list of text called the background playlist.<br> The current region is a region that varies.</font></blockquote>
<p>
<blockquote><font color="#000080"> The background playlist of Inland is { &quot;inland.mp3&quot;, &quot;market.mp3&quot; }.<br> The background playlist of Waterfront is { &quot;waterfront.mp3&quot;, &quot;seagulls.mp3&quot;, &quot;fishermen.mp3&quot; }.<br> The background playlist of Military Holdings is { &quot;wind.mp3&quot;, &quot;cannons.mp3&quot; }.<br> The background playlist of Tavern is { &quot;tavern.mp3&quot; }.</font></blockquote>
<p>
<blockquote><font color="#000080"> Every turn when the map region of the location is not nothing and the map region of the location is not the current region and the background playlist of the map region of the location is not empty (this is the play background audio rule):<br>&nbsp;&nbsp;&nbsp;&nbsp; start the playlist background playlist of the map region of the location, looping and shuffled;<br>&nbsp;&nbsp;&nbsp;&nbsp; now the current region is the map region of the location.</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins (this is the start initial background audio rule):<br>&nbsp;&nbsp;&nbsp;&nbsp; if the map region of the location is not nothing and the background playlist of the map region of the location is not empty:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; follow the play background audio rule.</font></blockquote>
<p>
 (The tracks in the playlists are made up so unfortunately they're not included in the example resource package like the other tracks.)
<p>

<p>
<p></body></html>