<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Extension</title><script type="text/javascript">	function showExtra(id, imid) {		if (document.getElementById(id).style.display == 'block') {			document.getElementById(id).style.display = 'none';			document.getElementById(imid).src = 'inform:/extra.png';		} else {			document.getElementById(id).style.display = 'block';			document.getElementById(imid).src = 'inform:/extraclose.png';		}	}    function openExtra(id, imid) {    	document.getElementById(id).style.display = 'block';    	document.getElementById(imid).src = 'inform:/extraclose.png';    }    function closeExtra(id, imid) {    	document.getElementById(id).style.display = 'none';    	document.getElementById(imid).src = 'inform:/extra.png';    }</script></head><STYLE TYPE="text/css"><!--*, *:before, *:after {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.oval, .oval TD{background-image:url('../../doc_images/ovoid.png');color:white;}--></STYLE><body><script language="JavaScript">function pasteCode(code) {    var myProject = window.Project;    myProject.selectView('source');    myProject.pasteCode(code);}</script><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"></td><TD width=38px height=26px align="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0></td><TD width=56px height=26px align="right" valign="center"></td></tr></table><p><img border=0 src=../../doc_images/paste.png>&nbsp;<b>Trinity Inventory<font color="#404040"> by </font>Mikael Segercrantz</b><p><small></small><p><p><hr><p>
<p>
 Chapter: Introduction
<p>
 Provides a wide, prose-style, customisable inventory listing, of the following form:
<p>
<blockquote><font color="#000080"> You're holding a briefcase and a lemon. You're wearing the old top hand, and you have a folder of papers in the briefcase. You also have a map of Slovakia in the folder of papers.</font></blockquote>
<p>
 Section: Version history
<p>
<blockquote><font color="#000080"> Version 1/071124 - A basic rewrite of Jon Ingold's Written Inventory extension, to modify the output to match more closely how the game Trinity (by Infocom) displays the inventory listing.</font></blockquote>
<p>
<blockquote><font color="#000080"> Version 2/071217 - Added support for the inventory listing property to things. Also modified the way containment is shown, allowing for an occasional use of &quot;, and &quot; instead of &quot;. &quot;.</font></blockquote>
<p>
<blockquote><font color="#000080"> Version 3/071223 - Separated the printing of articles out from the lists into separate rules, which improves the support for the inventory listing property, as well as brings better support of indefinite and definite articles. Fixed a bug with containers showing their contents, even when opaque and closed. Also fixed a bug with the player's holdall's contents not being listed, as well as a bug with contents of supporters not being listed. In addition, fixed a bug (partially introduced in Version 2/071217) regarding nested containers/supporters not listing their contents. Also found a bug which had existed already in Version 1/071124, where if the player wasn't wearing anything, it would write out two dots separated by a space; this has now been fixed.</font></blockquote>
<p>
<blockquote><font color="#000080"> Version 4/080508 - Updated to fit version 5T18 of Inform 7, by adding the inventory listing property back to things. It also changes the syntax to use the new if-while-repeat syntax.</font></blockquote>
<p>
 Chapter: Usage
<p>
 Section: Customizing the contents of something
<p>
 This works by printing objects directly carried and worn first (if there are any). It then runs an activity on any objects one level lower, called the &quot;inventory listing the contents of&quot; activity. By default this will provide the &quot;In the briefcase...&quot; style sentence above, but it can be customised:
<p>
<blockquote><font color="#000080"> Rule for inventory listing the contents of the folder of papers: say &quot;. The folder of papers contains [list of things in the folder of papers]&quot;;</font></blockquote>
<p>
 Note the period at the start of the rule's output, and the lack of one at the end.
<p>
 Section: Suppressing the contents of something
<p>
 Should we want to suppress something's contents from an inventory listing, use a &quot;do nothing rule&quot;:
<p>
<blockquote><font color="#000080"> Rule for inventory listing the contents of the lemon: do nothing instead.</font></blockquote>
<p>
 Note, that this will produce a list of the contents of the contents of the lemon (so it may append &quot;In the pips of the lemon is the genetic material necessary for a new lemon tree&quot;). To eradicate this, give the lemon's contents the &quot;mentioned&quot; property:
<p>
<blockquote><font color="#000080"> Rule for inventory listing the contents of the lemon:<br>&nbsp;&nbsp;&nbsp;&nbsp; now everything enclosed by the lemon is mentioned; do nothing instead.</font></blockquote>
<p>
 Section: Removing something from listing
<p>
 To remove an object from being listed in the inventory is possible, separately for when it is carried and for when it is worn. To do this, you can use the phrases &quot;unlisted when carried&quot; and &quot;unlisted when worn&quot;. If, at some point in the game, you need to change the item back to listed form, you can use &quot;listed when carried&quot; and &quot;listed when worn&quot; respectively. The defaults in both cases are for the item being listed.
<p>
<blockquote><font color="#000080"> The player wears a vacation outfit. The vacation outfit is unlisted when worn.</font></blockquote>
<p>
 Section: Adding certain containers or supporters as having their contents listed even if empty
<p>
 In certain cases, it might be necessary to list a container's contents, even if that container is empty. Even this is possible using this extension: you can define the container as &quot;empty-listed&quot; or &quot;not empty-listed&quot; as required, with the default being &quot;not empty-listed&quot;.
<p>
<blockquote><font color="#000080"> A container called your pocket is a part of the vacation outfit. Your pocket is empty-listed.</font></blockquote>
<p>
 Section: Parts of things
<p>
 A final note: the extension automatically describes containers and supporters, and considers anything which contains a component part, but by default this third type of object prints nothing (since most of the time printing the parts of an object is unhelpful). This does provide an entry-point should you want an object to comment on its parts:
<p>
<blockquote><font color="#000080"> Rule for inventory listing the contents of the ring-tailed lemur:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;. The lemur's extraordinary tail is coiled around your neck&quot;;</font></blockquote>
<p>
... and should any of those parts be containers or supporters themselves, they will be considered even if the part itself it ignored. (Therefore a player wearing a coat with a deep pocket should be told he is wearing the jacket, unless it is marked as not listed when worn, and the contents of the pocket will be listed, without being told separately that the pocket is part of the coat).
<p>
 Section: The inventory listing property
<p>
 As of Version 2/071217, this extension provides support for the &quot;inventory listing&quot; property. This property, described more closely in &quot;Writing with Inform&quot; in the section &quot;Three descriptions of things&quot;, allows us to override the printed name of a thing when it is displayed in an inventory listing. This support has been improved with Version 3/071223, such that the &quot;inventory listing&quot; property can now contain a preceding article, or something working to that effect, as the article display mechanism has been separated from the list display to separate rules.
<p>
 For example,
<p>
<blockquote><font color="#000080"> A plain ring is in the Gazebo. The inventory listing of the plain ring is &quot;that worthless old ring.&quot;</font></blockquote>
<p>
 gives the following transcript
<p>
<blockquote><font color="#000080"> Gazebo<br> The gazebo stands slightly off to one edge of the lawn, almost in the center, but slightly closer to the edge the house is towards. A path leads north towards an intimidating forest and south towards the spooky old Victorian-style house you inherited from your great-aunt Mathilda.</font></blockquote>
<p>
<blockquote><font color="#000080"> You can see a plain ring here.</font></blockquote>
<p>
<blockquote><font color="#000080"> &gt; TAKE RING<br> Taken.</font></blockquote>
<p>
<blockquote><font color="#000080"> &gt; I<br> You are holding that worthless old ring.</font></blockquote>
<p>
 Chapter: Definitions
<p>
 Note the extension provides one relation and two adjectives: &quot;empty&quot; and &quot;non-empty&quot; describe containers and supporters appropriately, and other things will be declared non-empty if and only if they have no component parts. (But a supporter with component parts may be empty if there is nothing on it). The relation is called &quot;encasement&quot; and describes direct enclosure. (That is, containment, carrying, wearing, or incorporation).
<p>
 Example: ** Trinity - Demonstrating the use of items not listed in the inventory and containers listed even if empty.
<p>
<blockquote><font color="#000080"><img border=0 src=../../doc_images/paste.png> &quot;Trinity&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Include Version 4 of Trinity Inventory by Mikael Segercrantz.</font></blockquote>
<p>
<blockquote><font color="#000080"> Palace Gate is a room. &quot;A tide of perambulators surges north along the crowded Broad Walk. Shaded glades stretch away to the northeast, and a hint of color marks the western edge of the Flower Walk.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> The player wears a vacation outfit. The vacation outfit is unlisted when worn.<br> The player wears a wristwatch. Understand &quot;watch&quot; as the wristwatch.<br> A container called your pocket is part of the vacation outfit. Your pocket is empty-listed.<br> A credit card is in your pocket.<br> A seven-sided coin is in your pocket. Understand &quot;seven&quot; and &quot;sided&quot; as the seven-sided coin.</font></blockquote>
<p>
<blockquote><font color="#000080"> The seconds count is a number which varies. The seconds count is 0.</font></blockquote>
<p>
<blockquote><font color="#000080"> The realistic time rule is listed instead of the advance time rule in the turn sequence rulebook.</font></blockquote>
<p>
<blockquote><font color="#000080"> This is the realistic time rule:<br>&nbsp;&nbsp;&nbsp;&nbsp; now the seconds count is the seconds count + 15;<br>&nbsp;&nbsp;&nbsp;&nbsp; while the seconds count is at least 60:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now the seconds count is the seconds count - 60;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; now the time of day is the time of day + 1 minute.</font></blockquote>
<p>
<blockquote><font color="#000080"> The description of the wristwatch is &quot;[if the hours part of the time of day is greater than 12][the hours part of the time of day - 12][otherwise][the hours part of the time of day][end if]:[if the minutes part of the time of day is less than 10]0[end if][the minutes part of the time of day]:[if seconds count is less than 10]0[end if][seconds count] [if the hours part of the time of day is at most 11]am[otherwise]pm[end if].&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> When play begins:<br>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Sharp words between the superpowers. Tanks in East Berlin. And now, reports the BBC, rumors of a satellite blackout. It's enough to spoil your continental breakfast.<br><br>But the world will have to wait. This is the last day of your $599 London Getaway Package, and you're determined to soak up as much of that authentic English ambience as you can. So you've left the tour bus behind, ditched the camera and escaped to Hyde Park for a contemplative stroll through the Kensington Gardens.&quot;</font></blockquote>
<p>
<blockquote><font color="#000080"> Test me with &quot;i / x watch / take coin / i / x watch / take card / i&quot;.</font></blockquote>
<p>

<p>
<p></body></html>